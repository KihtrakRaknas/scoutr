(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{299:function(e,t,a){"use strict";var n=a(1),o=a.n(n),r=a(2),s=a(494),l=a(54),c=a(6),u=a.n(c),m=a(7),d=a.n(m),p=a(9),h=a.n(p),g=a(5),f=a.n(g),v=a(10),b=a.n(v),y=a(18),k=a(41),C=a(3),w=a(107),S=a(29),E=a(51),D=a(82),x=a.n(D),N=a(110),I=function(e){function t(e){var a;return u()(this,t),(a=h()(this,f()(t).call(this,e))).state={name:"",team:""},a.handleLogin=function(){E.a.setItem("name",a.state.name).then((function(){E.a.setItem("team",a.state.team).then((function(){a.props.navigation.navigate("LoggedInStack")}))}))},D.initializeApp({apiKey:"AIzaSyAgbDbOgy-QIkZmXNkueOWhSZfSOYta0MA",authDomain:"roboticsscoutingtool.firebaseapp.com",projectId:"roboticsscoutingtool"}),E.a.getItem("name").then((function(e){e?a.props.navigation.navigate("LoggedInStack"):N.a.hide()})),a}return b()(t,e),d()(t,[{key:"render",value:function(){var e=this;return o.a.createElement(w.a,{behavior:"padding",style:A.container},o.a.createElement(y.a,{style:A.title},"Set Up"),o.a.createElement(C.a,{style:A.textInputBox},o.a.createElement(k.a,{placeholder:"Real Name",placeholderTextColor:"white",autoCapitalize:"none",style:A.textInput,onChangeText:function(t){return e.setState({name:t})},value:this.state.name})),o.a.createElement(C.a,{style:A.textInputBox},o.a.createElement(k.a,{placeholder:"Team (including letter)",placeholderTextColor:"white",autoCapitalize:"none",style:A.textInput,onChangeText:function(t){return e.setState({team:t})},value:this.state.team})),o.a.createElement(S.a,{style:A.submitButton,onPress:this.handleLogin},o.a.createElement(y.a,{style:{color:"white",fontSize:20}},"Continue To App")))}}]),t}(o.a.Component),A=r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10}}),T=a(109),P=a(62),O=a(11),B=a(83),M=(a(183),a(60)),L=a(300),R=function(e){function t(e){var a;return u()(this,t),(a=h()(this,f()(t).call(this,e))).state={comps:[],team:"null"},N.a.hide(),E.a.getItem("appOpen").then((function(e){var t=0;e&&(t=Number(e)),t>3&&L.a(),E.a.setItem("appOpen",""+(t+1))})),E.a.getItem("team").then((function(e){a.setState({team:e}),console.log("https://api.vexdb.io/v1/get_events?season=current&team="+e),fetch("https://api.vexdb.io/v1/get_events?season=current&team="+e).then((function(e){return e.json()})).then((function(e){E.a.setItem("offlineEventData",JSON.stringify(e.result)),a.setState({comps:e.result})}))})),E.a.getItem("offlineEventData").then((function(e){e&&a.setState({comps:JSON.parse(e)})})),a}return b()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=null;return"web"===O.a.OS&&(t=o.a.createElement(C.a,null,o.a.createElement(T.a,{title:"Download iOS App",onPress:function(){B.a.openURL("https://apps.apple.com/us/app/robotics-scouting-tool/id1494612234").catch((function(e){return console.error("An error occurred",e)}))}}),o.a.createElement(T.a,{title:"Download Android App",onPress:function(){B.a.openURL("https://play.google.com/store/apps/details?id=com.kihtrak.scouter").catch((function(e){return console.error("An error occurred",e)}))}}))),o.a.createElement(C.a,null,t,o.a.createElement(P.a,{data:this.state.comps,renderItem:function(t){var a=t.item;return o.a.createElement(M.b,{chevron:!0,onPress:function(){return e.props.navigation.navigate("CompScreen",{title:a.name,sku:a.sku,compName:a.name})},bottomDivider:!0,topDivider:!0,subtitle:a.loc_city+" - "+(new Date(a.end).getMonth()>8?new Date(a.end).getMonth()+1:"0"+(new Date(a.end).getMonth()+1))+"/"+(new Date(a.end).getDate()>9?new Date(a.end).getDate():"0"+new Date(a.end).getDate())+"/"+new Date(a.end).getFullYear()%100,title:a.name})},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(C.a,null,o.a.createElement(y.a,null,"No Competitions found for ",this.state.team))}))}}]),t}(o.a.Component),z=(r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10}}),a(248),function(e){function t(e){var a;u()(this,t),(a=h()(this,f()(t).call(this,e))).state={teams:[]};a.props.navigation.getParam("name","No Name");var n=a.props.navigation.getParam("sku","sku");return console.log(n),E.a.getItem("team").then((function(e){a.setState({team:e}),fetch("https://api.vexdb.io/v1/get_teams?season=current&sku="+n).then((function(e){return e.json()})).then((function(t){var o=t.result;E.a.setItem("offlineTeamData-"+n,JSON.stringify(o)),a.setState({teams:o}),x.a.firestore().collection("teams").doc(e.replace(/\D+/g,"")).collection("comp").doc(n).collection("teams").onSnapshot((function(e){var t=function(t){var a=o[t],n=!1;e.forEach((function(e){e.id==a.number&&Object.keys(e.data()).length>10&&(console.log("AHHH"),n=!0)})),o[t].haveData=n};for(var r in o)t(r);E.a.setItem("offlineTeamData"+n,JSON.stringify(o)),a.setState({teams:o})})),console.log(e+"1"),fetch("https://api.vexdb.io/v1/get_matches?season=current&sku="+n+"&team="+e).then((function(e){return e.json()})).then((function(t){console.log("https://api.vexdb.io/v1/get_matches?season=current&sku="+n+"&team="+e);var r=t.result,i=[],s=[];if(r.length>0){for(var l in r){var c=r[l],u=void 0,m=void 0,d=c.matchnum,p="1"==c.round?"Practice":"2"==c.round?"Quals":"3"==c.round?"Quarter Finals":"4"==c.round?"Semi Finals":"5"==c.round?"Finals":"Unknown",h=Number(c.round);c.red1==e||c.red2==e||c.red3==e?(u="red",m="blue"):c.blue1!=e&&c.blue2!=e&&c.blue3!=e||(u="blue",m="red");for(var g=[],f=1;4!=f;f++)c[u+f]!=e&&(i.push(c[u+f]),g.push(c[u+f]));for(f=1;4!=f;f++)s.push(c[m+f]),g.push(c[m+f]);for(var v in o){var b=o[v],y=g,k=Array.isArray(y),C=0;for(y=k?y:y["function"===typeof Symbol?Symbol.iterator:"@@iterator"]();;){var w;if(k){if(C>=y.length)break;w=y[C++]}else{if((C=y.next()).done)break;w=C.value}w==b.number&&(o[v].round=d,o[v].type=p,o[v].typeNum=h)}}}for(var S in o){var D=o[S],x=!1,N=!1,I=i,A=Array.isArray(I),T=0;for(I=A?I:I["function"===typeof Symbol?Symbol.iterator:"@@iterator"]();;){var P;if(A){if(T>=I.length)break;P=I[T++]}else{if((T=I.next()).done)break;P=T.value}P==D.number&&(x=!0)}var O=s,B=Array.isArray(O),M=0;for(O=B?O:O["function"===typeof Symbol?Symbol.iterator:"@@iterator"]();;){var L;if(B){if(M>=O.length)break;L=O[M++]}else{if((M=O.next()).done)break;L=M.value}L==D.number&&(N=!0)}o[S].ally=x,o[S].opp=N}o.sort((function(e,t){var a=e.typeNum?e.typeNum:-1,n=t.typeNum?t.typeNum:-1;return n-a==0?(e.round?e.round:-1)-(t.round?t.round:-1):n-a})),console.log("done sorting"),E.a.setItem("offlineTeamData"+n,JSON.stringify(o)),a.setState({teams:o})}}))})),E.a.getItem("offlineTeamData"+n).then((function(t){if(t){console.log("\n\n\n\n\nOFF\n\n\n\n\n");var o=JSON.parse(t);a.setState({teams:o}),x.a.firestore().collection("teams").doc(e.replace(/\D+/g,"")).collection("comp").doc(n).collection("teams").onSnapshot((function(e){var t=function(t){var a=o[t],n=!1;e.forEach((function(e){e.id==a.number&&Object.keys(e.data()).length>10&&(console.log("AHHH"),n=!0)})),o[t].haveData=n};for(var n in o)t(n);a.setState({teams:o})}))}}))})),a}return b()(t,e),d()(t,[{key:"render",value:function(){var e=this;return o.a.createElement(P.a,{data:this.state.teams,renderItem:function(t){var a=t.item;return o.a.createElement(M.b,{chevron:!0,checkmark:a.haveData,onPress:function(){return e.props.navigation.navigate("TeamInfo",{team:a.number,compName:e.props.navigation.getParam("compName"),sku:e.props.navigation.getParam("sku")})},bottomDivider:!0,topDivider:!0,subtitle:a.organisation+" - "+a.region,title:a.number+(a.round?" - "+a.round:"")+(a.type?" - "+a.type:""),titleStyle:a.ally&&a.opp?{color:"purple",fontWeight:"bold"}:a.ally?{color:"green",fontWeight:"bold"}:a.opp?{color:"red",fontWeight:"bold"}:null})},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(C.a,null,o.a.createElement(y.a,null,"No Competitions found for ",this.state.team))})}},{key:"abbrState",value:function(e,t){var a=[["Arizona","AZ"],["Alabama","AL"],["Alaska","AK"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]];if("abbr"==t){for(e=e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),i=0;i<a.length;i++)if(a[i][0]==e)return a[i][1]}else if("name"==t)for(e=e.toUpperCase(),i=0;i<a.length;i++)if(a[i][1]==e)return a[i][0]}}]),t}(o.a.Component));z.navigationOptions=function(e){var t=e.navigation;return{title:t.getParam("title","No Name").substring(0,25)+(""!=t.getParam("title","No Name").substring(25).trim()?"...":"")}};r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10}});var W=a(8),F=a.n(W),V=a(73),j=a(298),H=function(e){function t(e){var a;u()(this,t),(a=h()(this,f()(t).call(this,e))).state={team:null,name:"Didn't load in"},E.a.getItem("name").then((function(e){a.setState({name:e})})),E.a.getItem("team").then((function(e){a.setState({team:e});var t=e,n=a.props.navigation.getParam("sku"),o=a.props.navigation.getParam("team","default team");x.a.firestore().collection("teams").doc(t.replace(/\D+/g,"")).collection("comp").doc(n).collection("teams").doc(o).onSnapshot((function(e){e.exists?e.metadata.hasPendingWrites||a.setState(e.data()):console.log("No such document!")}))}));var n=a.props.navigation.getParam("team","750S");fetch("https://api.vexdb.io/v1/get_season_rankings?season=current&team="+n).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({vrating_rank:e.result[0].vrating_rank,vrating:e.result[0].vrating})})),fetch("https://api.vexdb.io/v1/get_awards?season=current&team="+n).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({awards:e.result})})),fetch("https://api.vexdb.io/v1/get_events?season=current&team="+n).then((function(e){return e.json()})).then((function(e){a.setState({comps:e.result})})),fetch("https://api.vexdb.io/v1/get_skills?season=current&season_rank=true&team="+n).then((function(e){return e.json()})).then((function(e){for(var t in e.result){var n=e.result[t],o="?";0==n.type?o="Robot Skills":1==n.type?o="Programming Skills":2==n.type&&(o="Combined Skills"),e.result[t].type=o}console.log(e.result),a.setState({skills:e.result})}));x.a.firestore();return console.log("compName"+a.props.navigation.getParam("compName")),a}return b()(t,e),d()(t,[{key:"createDropDown",value:function(e,t,a){var n=this,r=[],i=t,s=Array.isArray(i),l=0;for(i=s?i:i["function"===typeof Symbol?Symbol.iterator:"@@iterator"]();;){var c;if(s){if(l>=i.length)break;c=i[l++]}else{if((l=i.next()).done)break;c=l.value}var u=c;r.push({value:u})}return a&&(r=t),"web"!==O.a.OS?o.a.createElement(C.a,{style:U.intake},o.a.createElement(j.a,{label:e,data:r,value:this.state[e],itemCount:5,onChangeText:function(t){return n.updateFirebase(e,t)}})):o.a.createElement(M.a,{placeholder:e,label:e,value:this.state[e],onChangeText:function(t){return n.updateFirebase(e,t)},style:U.place})}},{key:"render",value:function(){var e=this;return o.a.createElement(w.a,{style:{flex:1,flexDirection:"column",justifyContent:"center"},behavior:"padding",enabled:!0,keyboardVerticalOffset:100},o.a.createElement(V.c,null,o.a.createElement(y.a,{style:{textAlign:"center",marginHorizontal:20}},this.state["Last Update"]),o.a.createElement(C.a,{style:U.place}),this.state["Other Comments"]?o.a.createElement(y.a,{style:{fontSize:18,paddingHorizontal:10,paddingVertical:15}},this.state["Other Comments"]):null,this.createDropDown("Intake Type",["Rollers","Long Vertical Claw","Claw","No Intake","Other (more info in comments)"]),this.createDropDown("Lift Type",["2 Bar","4 Bar","Double Reverse 4 Bar","Cascade Lift","No Lift","Other (more info in comments)"]),this.createDropDown("Drive Type",[{value:"Tank Drive (2 motors)"},{value:"Tank Drive (4 motors)"},{value:"X Drive"},{value:"Mecanum"},{value:"H Drive"},{value:"Other (more info in comments)"}],!0),o.a.createElement(C.a,{style:U.place}),o.a.createElement(M.a,{keyboardType:"number-pad",placeholder:"Max Number of Cubes They Can Stack",label:"Max Number of Cubes They Can Stack",value:this.state["Max Number of Cubes They Can Stack"],onChangeText:function(t){return e.updateFirebase("Max Number of Cubes They Can Stack",t)},style:U.place}),o.a.createElement(C.a,{style:U.place}),this.createDropDown("Scoring Towers",[{value:"Can score all towers"},{value:"Can score low and medium towers"},{value:"Can only score low towers"},{value:"Can't score any towers"},{value:"Other (more info in comments)"}],!0),this.createDropDown("Descoring Towers",[{value:"Can descore all towers"},{value:"Can descore low and medium towers"},{value:"Can only descore low towers"},{value:"Can't descore any towers"},{value:"Other (more info in comments)"}],!0),o.a.createElement(C.a,{style:U.place}),o.a.createElement(M.a,{placeholder:"Protected Zone Auton Point Value and Reliability",label:"Protected Zone Auton Point Value and Reliability",value:this.state["Protected Zone Auton Point Value and Reliability"],onChangeText:function(t){return e.updateFirebase("Protected Zone Auton Point Value and Reliability",t)},style:U.place}),o.a.createElement(C.a,{style:U.place}),o.a.createElement(M.a,{placeholder:"Unprotected Zone Auton Point Value and Reliability",label:"Unprotected Zone Auton Point Value and Reliability",value:this.state["Unprotected Zone Auton Point Value and Reliability"],onChangeText:function(t){return e.updateFirebase("Unprotected Zone Auton Point Value and Reliability",t)},style:U.place}),o.a.createElement(C.a,{style:U.place}),this.createDropDown("Can they get 2 stacks in the protected zone?",[{value:"They can get 2 stacks in the protected zone"},{value:"They stuggle with 2 stacks in the protected zone"},{value:"They can't get 2 stacks in the protected zone"}],!0),this.createDropDown("Add onto existing stacks?",[{value:"They can add onto existing stacks"},{value:"They can't add onto existing stacks"}],!0),o.a.createElement(C.a,{style:U.place}),o.a.createElement(M.a,{placeholder:"Pit Location",label:"Pit Location",value:this.state["Pit Location"],onChangeText:function(t){return e.updateFirebase("Pit Location",t)},style:U.place}),o.a.createElement(M.a,{placeholder:"Other Comments",label:"Other Comments",value:this.state["Other Comments"],onChangeText:function(t){return e.updateFirebase("Other Comments",t)},style:U.place}),o.a.createElement(C.a,{style:U.place}),o.a.createElement(y.a,{style:U.stats},"V-Rating Rank: ",this.state.vrating_rank),o.a.createElement(y.a,{style:U.stats},"V-Rating: ",this.state.vrating),o.a.createElement(y.a,{style:U.stats},"Past Awards:"),o.a.createElement(P.a,{data:this.state.awards,renderItem:function(e){var t=e.item;return o.a.createElement(M.b,{bottomDivider:!0,topDivider:!0,title:t.name})},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(C.a,null,o.a.createElement(y.a,{style:U.stats},"No awards found for ",this.props.navigation.getParam("team","Team Name")))}),o.a.createElement(y.a,{style:U.stats},"Past Competitions:"),o.a.createElement(P.a,{data:this.state.comps,renderItem:function(e){var t=e.item;return new Date(t.end)<new Date?o.a.createElement(M.b,{bottomDivider:!0,topDivider:!0,title:t.name}):null},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(C.a,null,o.a.createElement(y.a,{style:U.stats},"No competitions found for ",this.props.navigation.getParam("team","Team Name")))}),o.a.createElement(C.a,{style:U.place}),o.a.createElement(y.a,{style:U.stats},"Skills Scores:"),o.a.createElement(P.a,{data:this.state.skills,renderItem:function(e){var t=e.item;return o.a.createElement(M.b,{bottomDivider:!0,topDivider:!0,title:t.type,rightTitle:t.score+" (Rank: "+t.season_rank+")"})},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(C.a,null,o.a.createElement(y.a,{style:U.stats},"No skills data found for ",this.props.navigation.getParam("team","Team Name")))}),o.a.createElement(C.a,{style:U.place}),o.a.createElement(C.a,{style:U.place}),o.a.createElement(C.a,{style:U.place}),o.a.createElement(C.a,{style:U.place})))}},{key:"updateFirebase",value:function(e,t){var a;this.setState(F()({},e,t));var n=this.state.team,o=this.props.navigation.getParam("sku"),r=this.props.navigation.getParam("team","default team"),i=new Date;console.log((i.getHours()-1)%12+1+":"+i.getMinutes()+" "+(i.getHours()>=12?"PM":"AM")+" "+(i.getMonth()+1)+"/"+i.getDate()+"/"+i.getFullYear()%100),x.a.firestore().collection("teams").doc(n.replace(/\D+/g,"")).collection("comp").doc(o).collection("teams").doc(r).set((a={},F()(a,e,t),F()(a,"Last Update",this.state.name+" - "+this.state.team+" - "+((i.getHours()-1)%12+1)+":"+(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+" "+(i.getHours()>=12?"PM":"AM")+" "+(i.getMonth()+1)+"/"+i.getDate()+"/"+i.getFullYear()%100),a),{merge:!0}).then((function(e){console.log("Document written with ID: ",e)}))}}]),t}(o.a.Component);H.navigationOptions=function(e){var t=e.navigation;return{title:t.getParam("team","No Name").substring(0,25)+(""!=t.getParam("team","No Name").substring(25).trim()?"...":"")}};var U=r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10},stats:{fontSize:20,paddingHorizontal:10,paddingVertical:25},place:{paddingVertical:10},intake:{marginHorizontal:10}}),_=Object(s.a)({Main:R,CompScreen:z,TeamInfo:H},{initialRouteName:"Main",defaultNavigationOptions:{headerStyle:{backgroundColor:"red"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}}}),Z=Object(l.createAppContainer)(Object(l.createSwitchNavigator)({SetUp:I,LoggedInStack:_},{initialRouteName:"SetUp"}));t.a=Z,r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF"},welcome:{fontSize:20,textAlign:"center",margin:10},instructions:{textAlign:"center",color:"#333333",marginBottom:5}})},312:function(e,t,a){a(313),e.exports=a(314)},313:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[312,1,2]]]);
//# sourceMappingURL=../../5796e06dfc718df4aa64.map