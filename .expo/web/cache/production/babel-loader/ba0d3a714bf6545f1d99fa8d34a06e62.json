{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import PropTypes from'prop-types';import React,{PureComponent}from'react';import View from\"react-native-web/dist/exports/View\";import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import{styles,radius}from\"./styles.js\";var Ripple=function(_PureComponent){_inherits(Ripple,_PureComponent);function Ripple(props){var _this;_classCallCheck(this,Ripple);_this=_possibleConstructorReturn(this,_getPrototypeOf(Ripple).call(this,props));_this.onLayout=_this.onLayout.bind(_assertThisInitialized(_this));_this.onPress=_this.onPress.bind(_assertThisInitialized(_this));_this.onPressIn=_this.onPressIn.bind(_assertThisInitialized(_this));_this.onPressOut=_this.onPressOut.bind(_assertThisInitialized(_this));_this.onLongPress=_this.onLongPress.bind(_assertThisInitialized(_this));_this.onAnimationEnd=_this.onAnimationEnd.bind(_assertThisInitialized(_this));_this.renderRipple=_this.renderRipple.bind(_assertThisInitialized(_this));_this.unique=0;_this.mounted=false;_this.state={width:0,height:0,ripples:[]};return _this;}_createClass(Ripple,[{key:\"componentDidMount\",value:function componentDidMount(){this.mounted=true;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"onLayout\",value:function onLayout(event){var _event$nativeEvent$la=event.nativeEvent.layout,width=_event$nativeEvent$la.width,height=_event$nativeEvent$la.height;var onLayout=this.props.onLayout;if('function'===typeof onLayout){onLayout(event);}this.setState({width:width,height:height});}},{key:\"onPress\",value:function onPress(event){var ripples=this.state.ripples;var _this$props=this.props,onPress=_this$props.onPress,rippleSequential=_this$props.rippleSequential;if(!rippleSequential||!ripples.length){if('function'===typeof onPress){requestAnimationFrame(function(){return onPress(event);});}this.startRipple(event);}}},{key:\"onLongPress\",value:function onLongPress(event){var onLongPress=this.props.onLongPress;if('function'===typeof onLongPress){requestAnimationFrame(function(){return onLongPress(event);});}this.startRipple(event);}},{key:\"onPressIn\",value:function onPressIn(event){var onPressIn=this.props.onPressIn;if('function'===typeof onPressIn){onPressIn(event);}}},{key:\"onPressOut\",value:function onPressOut(event){var onPressOut=this.props.onPressOut;if('function'===typeof onPressOut){onPressOut(event);}}},{key:\"onAnimationEnd\",value:function onAnimationEnd(){if(this.mounted){this.setState(function(_ref){var ripples=_ref.ripples;return{ripples:ripples.slice(1)};});}}},{key:\"startRipple\",value:function startRipple(event){var _this$state=this.state,width=_this$state.width,height=_this$state.height;var _this$props2=this.props,rippleDuration=_this$props2.rippleDuration,rippleCentered=_this$props2.rippleCentered,rippleSize=_this$props2.rippleSize,onRippleAnimation=_this$props2.onRippleAnimation;var w2=0.5*width;var h2=0.5*height;var _ref2=rippleCentered?{locationX:w2,locationY:h2}:event.nativeEvent,locationX=_ref2.locationX,locationY=_ref2.locationY;var offsetX=Math.abs(w2-locationX);var offsetY=Math.abs(h2-locationY);var R=rippleSize>0?0.5*rippleSize:Math.sqrt(Math.pow(w2+offsetX,2)+Math.pow(h2+offsetY,2));var ripple={unique:this.unique++,progress:new Animated.Value(0),locationX:locationX,locationY:locationY,R:R};var animation=Animated.timing(ripple.progress,{toValue:1,easing:Easing.out(Easing.ease),duration:rippleDuration,useNativeDriver:true});onRippleAnimation(animation,this.onAnimationEnd);this.setState(function(_ref3){var ripples=_ref3.ripples;return{ripples:ripples.concat(ripple)};});}},{key:\"renderRipple\",value:function renderRipple(_ref4){var unique=_ref4.unique,progress=_ref4.progress,locationX=_ref4.locationX,locationY=_ref4.locationY,R=_ref4.R;var _this$props3=this.props,rippleColor=_this$props3.rippleColor,rippleOpacity=_this$props3.rippleOpacity,rippleFades=_this$props3.rippleFades;var rippleStyle={top:locationY-radius,left:locationX-radius,backgroundColor:rippleColor,transform:[{scale:progress.interpolate({inputRange:[0,1],outputRange:[0.5/radius,R/radius]})}],opacity:rippleFades?progress.interpolate({inputRange:[0,1],outputRange:[rippleOpacity,0]}):rippleOpacity};return React.createElement(Animated.View,{style:[styles.ripple,rippleStyle],key:unique});}},{key:\"render\",value:function render(){var ripples=this.state.ripples;var onPress=this.onPress,onPressIn=this.onPressIn,onPressOut=this.onPressOut,onLongPress=this.onLongPress,onLayout=this.onLayout;var _this$props4=this.props,delayLongPress=_this$props4.delayLongPress,delayPressIn=_this$props4.delayPressIn,delayPressOut=_this$props4.delayPressOut,disabled=_this$props4.disabled,hitSlop=_this$props4.hitSlop,pressRetentionOffset=_this$props4.pressRetentionOffset,children=_this$props4.children,rippleContainerBorderRadius=_this$props4.rippleContainerBorderRadius,testID=_this$props4.testID,nativeID=_this$props4.nativeID,accessible=_this$props4.accessible,accessibilityLabel=_this$props4.accessibilityLabel,__ignored__=_this$props4.onLayout,props=_objectWithoutProperties(_this$props4,[\"delayLongPress\",\"delayPressIn\",\"delayPressOut\",\"disabled\",\"hitSlop\",\"pressRetentionOffset\",\"children\",\"rippleContainerBorderRadius\",\"testID\",\"nativeID\",\"accessible\",\"accessibilityLabel\",\"onLayout\"]);var touchableProps={delayLongPress:delayLongPress,delayPressIn:delayPressIn,delayPressOut:delayPressOut,disabled:disabled,hitSlop:hitSlop,pressRetentionOffset:pressRetentionOffset,onPress:onPress,onPressIn:onPressIn,testID:testID,nativeID:nativeID,accessible:accessible,accessibilityLabel:accessibilityLabel,onPressOut:onPressOut,onLongPress:props.onLongPress?onLongPress:undefined,onLayout:onLayout};var containerStyle={borderRadius:rippleContainerBorderRadius};return React.createElement(TouchableWithoutFeedback,touchableProps,React.createElement(Animated.View,_extends({},props,{pointerEvents:\"box-only\"}),children,React.createElement(View,{style:[styles.container,containerStyle]},ripples.map(this.renderRipple))));}}]);return Ripple;}(PureComponent);Ripple.defaultProps=_objectSpread({},TouchableWithoutFeedback.defaultProps,{rippleColor:'rgb(0, 0, 0)',rippleOpacity:0.30,rippleDuration:400,rippleSize:0,rippleContainerBorderRadius:0,rippleCentered:false,rippleSequential:false,rippleFades:true,disabled:false,onRippleAnimation:function onRippleAnimation(animation,callback){return animation.start(callback);}});Ripple.propTypes=_objectSpread({},Animated.View.propTypes,{},TouchableWithoutFeedback.propTypes,{rippleColor:PropTypes.string,rippleOpacity:PropTypes.number,rippleDuration:PropTypes.number,rippleSize:PropTypes.number,rippleContainerBorderRadius:PropTypes.number,rippleCentered:PropTypes.bool,rippleSequential:PropTypes.bool,rippleFades:PropTypes.bool,disabled:PropTypes.bool,onRippleAnimation:PropTypes.func});export{Ripple as default};","map":{"version":3,"sources":["C:/Users/karth/Documents/RoboticsScoutingTool/node_modules/react-native-material-ripple/index.js"],"names":["PropTypes","React","PureComponent","styles","radius","Ripple","props","onLayout","bind","onPress","onPressIn","onPressOut","onLongPress","onAnimationEnd","renderRipple","unique","mounted","state","width","height","ripples","event","nativeEvent","layout","setState","rippleSequential","length","requestAnimationFrame","startRipple","slice","rippleDuration","rippleCentered","rippleSize","onRippleAnimation","w2","h2","locationX","locationY","offsetX","Math","abs","offsetY","R","sqrt","pow","ripple","progress","Animated","Value","animation","timing","toValue","easing","Easing","out","ease","duration","useNativeDriver","concat","rippleColor","rippleOpacity","rippleFades","rippleStyle","top","left","backgroundColor","transform","scale","interpolate","inputRange","outputRange","opacity","delayLongPress","delayPressIn","delayPressOut","disabled","hitSlop","pressRetentionOffset","children","rippleContainerBorderRadius","testID","nativeID","accessible","accessibilityLabel","__ignored__","touchableProps","undefined","containerStyle","borderRadius","container","map","defaultProps","TouchableWithoutFeedback","callback","start","propTypes","View","string","number","bool","func"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { View, Animated, Easing, TouchableWithoutFeedback } from 'react-native';\nimport { styles, radius } from './styles.js';\n\nexport default class Ripple extends PureComponent {\n  static defaultProps = {\n    ...TouchableWithoutFeedback.defaultProps,\n\n    rippleColor: 'rgb(0, 0, 0)',\n    rippleOpacity: 0.30,\n    rippleDuration: 400,\n    rippleSize: 0,\n    rippleContainerBorderRadius: 0,\n    rippleCentered: false,\n    rippleSequential: false,\n    rippleFades: true,\n    disabled: false,\n\n    onRippleAnimation: (animation, callback) => animation.start(callback),\n  };\n\n  static propTypes = {\n    ...Animated.View.propTypes,\n    ...TouchableWithoutFeedback.propTypes,\n\n    rippleColor: PropTypes.string,\n    rippleOpacity: PropTypes.number,\n    rippleDuration: PropTypes.number,\n    rippleSize: PropTypes.number,\n    rippleContainerBorderRadius: PropTypes.number,\n    rippleCentered: PropTypes.bool,\n    rippleSequential: PropTypes.bool,\n    rippleFades: PropTypes.bool,\n    disabled: PropTypes.bool,\n\n    onRippleAnimation: PropTypes.func,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onLayout = this.onLayout.bind(this);\n    this.onPress = this.onPress.bind(this);\n    this.onPressIn = this.onPressIn.bind(this);\n    this.onPressOut = this.onPressOut.bind(this);\n    this.onLongPress = this.onLongPress.bind(this);\n    this.onAnimationEnd = this.onAnimationEnd.bind(this);\n\n    this.renderRipple = this.renderRipple.bind(this);\n\n    this.unique = 0;\n    this.mounted = false;\n\n    this.state = {\n      width: 0,\n      height: 0,\n      ripples: [],\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onLayout(event) {\n    let { width, height } = event.nativeEvent.layout;\n    let { onLayout } = this.props;\n\n    if ('function' === typeof onLayout) {\n      onLayout(event);\n    }\n\n    this.setState({ width, height });\n  }\n\n  onPress(event) {\n    let { ripples } = this.state;\n    let { onPress, rippleSequential } = this.props;\n\n    if (!rippleSequential || !ripples.length) {\n      if ('function' === typeof onPress) {\n        requestAnimationFrame(() => onPress(event));\n      }\n\n      this.startRipple(event);\n    }\n  }\n\n  onLongPress(event) {\n    let { onLongPress } = this.props;\n\n    if ('function' === typeof onLongPress) {\n      requestAnimationFrame(() => onLongPress(event));\n    }\n\n    this.startRipple(event);\n  }\n\n  onPressIn(event) {\n    let { onPressIn } = this.props;\n\n    if ('function' === typeof onPressIn) {\n      onPressIn(event);\n    }\n  }\n\n  onPressOut(event) {\n    let { onPressOut } = this.props;\n\n    if ('function' === typeof onPressOut) {\n      onPressOut(event);\n    }\n  }\n\n  onAnimationEnd() {\n    if (this.mounted) {\n      this.setState(({ ripples }) => ({ ripples: ripples.slice(1) }));\n    }\n  }\n\n  startRipple(event) {\n    let { width, height } = this.state;\n    let {\n      rippleDuration,\n      rippleCentered,\n      rippleSize,\n      onRippleAnimation,\n    } = this.props;\n\n    let w2 = 0.5 * width;\n    let h2 = 0.5 * height;\n\n    let { locationX, locationY } = rippleCentered?\n      { locationX: w2, locationY: h2 }:\n      event.nativeEvent;\n\n    let offsetX = Math.abs(w2 - locationX);\n    let offsetY = Math.abs(h2 - locationY);\n\n    let R = rippleSize > 0?\n      0.5 * rippleSize:\n      Math.sqrt(Math.pow(w2 + offsetX, 2) + Math.pow(h2 + offsetY, 2));\n\n    let ripple = {\n      unique: this.unique++,\n      progress: new Animated.Value(0),\n      locationX,\n      locationY,\n      R,\n    };\n\n    let animation = Animated\n      .timing(ripple.progress, {\n        toValue: 1,\n        easing: Easing.out(Easing.ease),\n        duration: rippleDuration,\n        useNativeDriver: true,\n      });\n\n    onRippleAnimation(animation, this.onAnimationEnd);\n\n    this.setState(({ ripples }) => ({ ripples: ripples.concat(ripple) }));\n  }\n\n  renderRipple({ unique, progress, locationX, locationY, R }) {\n    let { rippleColor, rippleOpacity, rippleFades } = this.props;\n\n    let rippleStyle = {\n      top: locationY - radius,\n      left: locationX - radius,\n      backgroundColor: rippleColor,\n\n      transform: [{\n        scale: progress.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0.5 / radius, R / radius],\n        }),\n      }],\n\n      opacity: rippleFades?\n        progress.interpolate({\n          inputRange: [0, 1],\n          outputRange: [rippleOpacity, 0],\n        }):\n        rippleOpacity,\n    };\n\n    return (\n      <Animated.View style={[styles.ripple, rippleStyle]} key={unique} />\n    );\n  }\n\n  render() {\n    let { ripples } = this.state;\n    let { onPress, onPressIn, onPressOut, onLongPress, onLayout } = this;\n    let {\n      delayLongPress,\n      delayPressIn,\n      delayPressOut,\n      disabled,\n      hitSlop,\n      pressRetentionOffset,\n      children,\n      rippleContainerBorderRadius,\n      testID,\n      nativeID,\n      accessible,\n      accessibilityLabel,\n      onLayout: __ignored__,\n      ...props\n    } = this.props;\n\n    let touchableProps = {\n      delayLongPress,\n      delayPressIn,\n      delayPressOut,\n      disabled,\n      hitSlop,\n      pressRetentionOffset,\n      onPress,\n      onPressIn,\n      testID,\n      nativeID,\n      accessible,\n      accessibilityLabel,\n      onPressOut,\n      onLongPress: props.onLongPress? onLongPress : undefined,\n      onLayout,\n    };\n\n    let containerStyle = {\n      borderRadius: rippleContainerBorderRadius,\n    };\n\n    return (\n      <TouchableWithoutFeedback {...touchableProps}>\n        <Animated.View {...props} pointerEvents='box-only'>\n          {children}\n          <View style={[styles.container, containerStyle]}>\n            {ripples.map(this.renderRipple)}\n          </View>\n        </Animated.View>\n      </TouchableWithoutFeedback>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}