{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import PropTypes from'prop-types';import React,{PureComponent}from'react';import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Animated from\"react-native-web/dist/exports/Animated\";import Modal from\"react-native-web/dist/exports/Modal\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import Platform from\"react-native-web/dist/exports/Platform\";import ViewPropTypes from\"react-native-web/dist/exports/ViewPropTypes\";import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Ripple from'react-native-material-ripple';import{TextField}from'react-native-material-textfield';import DropdownItem from\"../item\";import styles from\"./styles\";var Dropdown=function(_PureComponent){_inherits(Dropdown,_PureComponent);function Dropdown(props){var _this;_classCallCheck(this,Dropdown);_this=_possibleConstructorReturn(this,_getPrototypeOf(Dropdown).call(this,props));_this.onPress=_this.onPress.bind(_assertThisInitialized(_this));_this.onClose=_this.onClose.bind(_assertThisInitialized(_this));_this.onSelect=_this.onSelect.bind(_assertThisInitialized(_this));_this.onLayout=_this.onLayout.bind(_assertThisInitialized(_this));_this.updateRippleRef=_this.updateRef.bind(_assertThisInitialized(_this),'ripple');_this.updateContainerRef=_this.updateRef.bind(_assertThisInitialized(_this),'container');_this.updateScrollRef=_this.updateRef.bind(_assertThisInitialized(_this),'scroll');_this.renderAccessory=_this.renderAccessory.bind(_assertThisInitialized(_this));_this.renderItem=_this.renderItem.bind(_assertThisInitialized(_this));_this.keyExtractor=_this.keyExtractor.bind(_assertThisInitialized(_this));_this.blur=function(){return _this.onClose();};_this.focus=_this.onPress;var value=_this.props.value;_this.mounted=false;_this.focused=false;_this.state={opacity:new Animated.Value(0),selected:-1,modal:false,value:value};return _this;}_createClass(Dropdown,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(_ref){var value=_ref.value;if(value!==this.props.value){this.setState({value:value});}}},{key:\"componentDidMount\",value:function componentDidMount(){this.mounted=true;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"onPress\",value:function onPress(event){var _this2=this;var _this$props=this.props,data=_this$props.data,disabled=_this$props.disabled,onFocus=_this$props.onFocus,itemPadding=_this$props.itemPadding,rippleDuration=_this$props.rippleDuration,dropdownOffset=_this$props.dropdownOffset,_this$props$dropdownM=_this$props.dropdownMargins,minMargin=_this$props$dropdownM.min,maxMargin=_this$props$dropdownM.max,animationDuration=_this$props.animationDuration,absoluteRTLLayout=_this$props.absoluteRTLLayout,useNativeDriver=_this$props.useNativeDriver;if(disabled){return;}var itemCount=data.length;var timestamp=Date.now();if(null!=event){event.nativeEvent.locationY-=this.rippleInsets().top;event.nativeEvent.locationX-=this.rippleInsets().left;this.ripple.startRipple(event);}if(!itemCount){return;}this.focused=true;if('function'===typeof onFocus){onFocus();}var dimensions=Dimensions.get('window');this.container.measureInWindow(function(x,y,containerWidth,containerHeight){var opacity=_this2.state.opacity;if(I18nManager.isRTL&&!absoluteRTLLayout){x=dimensions.width-(x+containerWidth);}var delay=Math.max(0,rippleDuration-animationDuration-(Date.now()-timestamp));var selected=_this2.selectedIndex();var leftInset;var left=x+dropdownOffset.left-maxMargin;if(left>minMargin){leftInset=maxMargin;}else{left=minMargin;leftInset=minMargin;}var right=x+containerWidth+maxMargin;var rightInset;if(dimensions.width-right>minMargin){rightInset=maxMargin;}else{right=dimensions.width-minMargin;rightInset=minMargin;}var top=y+dropdownOffset.top-itemPadding;_this2.setState({modal:true,width:right-left,top:top,left:left,leftInset:leftInset,rightInset:rightInset,selected:selected});setTimeout(function(){if(_this2.mounted){_this2.resetScrollOffset();Animated.timing(opacity,{duration:animationDuration,toValue:1,useNativeDriver:useNativeDriver}).start(function(){if(_this2.mounted&&'ios'===Platform.OS){var _ref2=_this2.scroll||{},flashScrollIndicators=_ref2.flashScrollIndicators;if('function'===typeof flashScrollIndicators){flashScrollIndicators.call(_this2.scroll);}}});}},delay);});}},{key:\"onClose\",value:function onClose(){var _this3=this;var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.state.value;var _this$props2=this.props,onBlur=_this$props2.onBlur,animationDuration=_this$props2.animationDuration,useNativeDriver=_this$props2.useNativeDriver;var opacity=this.state.opacity;Animated.timing(opacity,{duration:animationDuration,toValue:0,useNativeDriver:useNativeDriver}).start(function(){_this3.focused=false;if('function'===typeof onBlur){onBlur();}if(_this3.mounted){_this3.setState({value:value,modal:false});}});}},{key:\"onSelect\",value:function onSelect(index){var _this4=this;var _this$props3=this.props,data=_this$props3.data,valueExtractor=_this$props3.valueExtractor,onChangeText=_this$props3.onChangeText,animationDuration=_this$props3.animationDuration,rippleDuration=_this$props3.rippleDuration;var value=valueExtractor(data[index],index);var delay=Math.max(0,rippleDuration-animationDuration);if('function'===typeof onChangeText){onChangeText(value,index,data);}setTimeout(function(){return _this4.onClose(value);},delay);}},{key:\"onLayout\",value:function onLayout(event){var onLayout=this.props.onLayout;if('function'===typeof onLayout){onLayout(event);}}},{key:\"value\",value:function value(){var value=this.state.value;return value;}},{key:\"selectedIndex\",value:function selectedIndex(){var value=this.state.value;var _this$props4=this.props,data=_this$props4.data,valueExtractor=_this$props4.valueExtractor;return data.findIndex(function(item,index){return null!=item&&value===valueExtractor(item,index);});}},{key:\"selectedItem\",value:function selectedItem(){var data=this.props.data;return data[this.selectedIndex()];}},{key:\"isFocused\",value:function isFocused(){return this.focused;}},{key:\"itemSize\",value:function itemSize(){var _this$props5=this.props,fontSize=_this$props5.fontSize,itemPadding=_this$props5.itemPadding;return Math.ceil(fontSize*1.5+itemPadding*2);}},{key:\"visibleItemCount\",value:function visibleItemCount(){var _this$props6=this.props,data=_this$props6.data,itemCount=_this$props6.itemCount;return Math.min(data.length,itemCount);}},{key:\"tailItemCount\",value:function tailItemCount(){return Math.max(this.visibleItemCount()-2,0);}},{key:\"rippleInsets\",value:function rippleInsets(){var _ref3=this.props.rippleInsets||{},_ref3$top=_ref3.top,top=_ref3$top===void 0?16:_ref3$top,_ref3$right=_ref3.right,right=_ref3$right===void 0?0:_ref3$right,_ref3$bottom=_ref3.bottom,bottom=_ref3$bottom===void 0?-8:_ref3$bottom,_ref3$left=_ref3.left,left=_ref3$left===void 0?0:_ref3$left;return{top:top,right:right,bottom:bottom,left:left};}},{key:\"resetScrollOffset\",value:function resetScrollOffset(){var selected=this.state.selected;var _this$props7=this.props,data=_this$props7.data,dropdownPosition=_this$props7.dropdownPosition;var offset=0;var itemCount=data.length;var itemSize=this.itemSize();var tailItemCount=this.tailItemCount();var visibleItemCount=this.visibleItemCount();if(itemCount>visibleItemCount){if(null==dropdownPosition){switch(selected){case-1:break;case 0:case 1:break;default:if(selected>=itemCount-tailItemCount){offset=itemSize*(itemCount-visibleItemCount);}else{offset=itemSize*(selected-1);}}}else{var index=selected-dropdownPosition;if(dropdownPosition<0){index-=visibleItemCount;}index=Math.max(0,index);index=Math.min(index,itemCount-visibleItemCount);if(~selected){offset=itemSize*index;}}}if(this.scroll){this.scroll.scrollToOffset({offset:offset,animated:false});}}},{key:\"updateRef\",value:function updateRef(name,ref){this[name]=ref;}},{key:\"keyExtractor\",value:function keyExtractor(item,index){var valueExtractor=this.props.valueExtractor;return index+\"-\"+valueExtractor(item,index);}},{key:\"renderBase\",value:function renderBase(props){var value=this.state.value;var _this$props8=this.props,data=_this$props8.data,renderBase=_this$props8.renderBase,labelExtractor=_this$props8.labelExtractor,dropdownOffset=_this$props8.dropdownOffset,_this$props8$renderAc=_this$props8.renderAccessory,renderAccessory=_this$props8$renderAc===void 0?this.renderAccessory:_this$props8$renderAc;var index=this.selectedIndex();var title;if(~index){title=labelExtractor(data[index],index);}if(null==title){title=value;}if('function'===typeof renderBase){return renderBase(_objectSpread({},props,{title:title,value:value,renderAccessory:renderAccessory}));}title=null==title||'string'===typeof title?title:String(title);return React.createElement(TextField,_extends({label:\"\",labelHeight:dropdownOffset.top-Platform.select({ios:1,android:2})},props,{value:title,editable:false,onChangeText:undefined,renderAccessory:renderAccessory}));}},{key:\"renderRipple\",value:function renderRipple(){var _this$props9=this.props,baseColor=_this$props9.baseColor,_this$props9$rippleCo=_this$props9.rippleColor,rippleColor=_this$props9$rippleCo===void 0?baseColor:_this$props9$rippleCo,rippleOpacity=_this$props9.rippleOpacity,rippleDuration=_this$props9.rippleDuration,rippleCentered=_this$props9.rippleCentered,rippleSequential=_this$props9.rippleSequential;var _this$rippleInsets=this.rippleInsets(),bottom=_this$rippleInsets.bottom,insets=_objectWithoutProperties(_this$rippleInsets,[\"bottom\"]);var style=_objectSpread({},insets,{height:this.itemSize()-bottom,position:'absolute'});return React.createElement(Ripple,{style:style,rippleColor:rippleColor,rippleDuration:rippleDuration,rippleOpacity:rippleOpacity,rippleCentered:rippleCentered,rippleSequential:rippleSequential,ref:this.updateRippleRef});}},{key:\"renderAccessory\",value:function renderAccessory(){var backgroundColor=this.props.baseColor;var triangleStyle={backgroundColor:backgroundColor};return React.createElement(View,{style:styles.accessory},React.createElement(View,{style:styles.triangleContainer},React.createElement(View,{style:[styles.triangle,triangleStyle]})));}},{key:\"renderItem\",value:function renderItem(_ref4){var item=_ref4.item,index=_ref4.index;if(null==item){return null;}var _this$state=this.state,selected=_this$state.selected,leftInset=_this$state.leftInset,rightInset=_this$state.rightInset;var _this$props10=this.props,valueExtractor=_this$props10.valueExtractor,labelExtractor=_this$props10.labelExtractor,propsExtractor=_this$props10.propsExtractor,textColor=_this$props10.textColor,itemColor=_this$props10.itemColor,baseColor=_this$props10.baseColor,_this$props10$selecte=_this$props10.selectedItemColor,selectedItemColor=_this$props10$selecte===void 0?textColor:_this$props10$selecte,_this$props10$disable=_this$props10.disabledItemColor,disabledItemColor=_this$props10$disable===void 0?baseColor:_this$props10$disable,fontSize=_this$props10.fontSize,itemTextStyle=_this$props10.itemTextStyle,rippleOpacity=_this$props10.rippleOpacity,rippleDuration=_this$props10.rippleDuration,shadeOpacity=_this$props10.shadeOpacity;var props=propsExtractor(item,index);var _props=props=_objectSpread({rippleDuration:rippleDuration,rippleOpacity:rippleOpacity,rippleColor:baseColor,shadeColor:baseColor,shadeOpacity:shadeOpacity},props,{onPress:this.onSelect}),style=_props.style,disabled=_props.disabled;var value=valueExtractor(item,index);var label=labelExtractor(item,index);var title=null==label?value:label;var color=disabled?disabledItemColor:~selected?index===selected?selectedItemColor:itemColor:selectedItemColor;var textStyle={color:color,fontSize:fontSize};props.style=[style,{height:this.itemSize(),paddingLeft:leftInset,paddingRight:rightInset}];return React.createElement(DropdownItem,_extends({index:index},props),React.createElement(Text,{style:[styles.item,itemTextStyle,textStyle],numberOfLines:1},title));}},{key:\"render\",value:function render(){var _this$props11=this.props,renderBase=_this$props11.renderBase,renderAccessory=_this$props11.renderAccessory,containerStyle=_this$props11.containerStyle,overlayStyleOverrides=_this$props11.overlayStyle,pickerStyleOverrides=_this$props11.pickerStyle,rippleInsets=_this$props11.rippleInsets,rippleOpacity=_this$props11.rippleOpacity,rippleCentered=_this$props11.rippleCentered,rippleSequential=_this$props11.rippleSequential,hitSlop=_this$props11.hitSlop,pressRetentionOffset=_this$props11.pressRetentionOffset,testID=_this$props11.testID,nativeID=_this$props11.nativeID,accessible=_this$props11.accessible,accessibilityLabel=_this$props11.accessibilityLabel,supportedOrientations=_this$props11.supportedOrientations,props=_objectWithoutProperties(_this$props11,[\"renderBase\",\"renderAccessory\",\"containerStyle\",\"overlayStyle\",\"pickerStyle\",\"rippleInsets\",\"rippleOpacity\",\"rippleCentered\",\"rippleSequential\",\"hitSlop\",\"pressRetentionOffset\",\"testID\",\"nativeID\",\"accessible\",\"accessibilityLabel\",\"supportedOrientations\"]);var data=props.data,disabled=props.disabled,itemPadding=props.itemPadding,dropdownPosition=props.dropdownPosition;var _this$state2=this.state,left=_this$state2.left,top=_this$state2.top,width=_this$state2.width,opacity=_this$state2.opacity,selected=_this$state2.selected,modal=_this$state2.modal;var itemCount=data.length;var visibleItemCount=this.visibleItemCount();var tailItemCount=this.tailItemCount();var itemSize=this.itemSize();var height=2*itemPadding+itemSize*visibleItemCount;var translateY=-itemPadding;if(null==dropdownPosition){switch(selected){case-1:translateY-=1===itemCount?0:itemSize;break;case 0:break;default:if(selected>=itemCount-tailItemCount){translateY-=itemSize*(visibleItemCount-(itemCount-selected));}else{translateY-=itemSize;}}}else{if(dropdownPosition<0){translateY-=itemSize*(visibleItemCount+dropdownPosition);}else{translateY-=itemSize*dropdownPosition;}}var overlayStyle={opacity:opacity};var pickerStyle={width:width,height:height,top:top,left:left,transform:[{translateY:translateY}]};var touchableProps={disabled:disabled,hitSlop:hitSlop,pressRetentionOffset:pressRetentionOffset,onPress:this.onPress,testID:testID,nativeID:nativeID,accessible:accessible,accessibilityLabel:accessibilityLabel};return React.createElement(View,{onLayout:this.onLayout,ref:this.updateContainerRef,style:containerStyle},React.createElement(TouchableWithoutFeedback,touchableProps,React.createElement(View,{pointerEvents:\"box-only\"},this.renderBase(props),this.renderRipple())),React.createElement(Modal,{visible:modal,transparent:true,onRequestClose:this.blur,supportedOrientations:supportedOrientations},React.createElement(Animated.View,{style:[styles.overlay,overlayStyle,overlayStyleOverrides],onStartShouldSetResponder:function onStartShouldSetResponder(){return true;},onResponderRelease:this.blur},React.createElement(View,{style:[styles.picker,pickerStyle,pickerStyleOverrides],onStartShouldSetResponder:function onStartShouldSetResponder(){return true;}},React.createElement(FlatList,{ref:this.updateScrollRef,data:data,style:styles.scroll,renderItem:this.renderItem,keyExtractor:this.keyExtractor,scrollEnabled:visibleItemCount<itemCount,contentContainerStyle:styles.scrollContainer})))));}}]);return Dropdown;}(PureComponent);Dropdown.defaultProps={hitSlop:{top:6,right:4,bottom:6,left:4},disabled:false,data:[],valueExtractor:function valueExtractor(){var _ref5=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},value=_ref5.value;var index=arguments.length>1?arguments[1]:undefined;return value;},labelExtractor:function labelExtractor(){var _ref6=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},label=_ref6.label;var index=arguments.length>1?arguments[1]:undefined;return label;},propsExtractor:function propsExtractor(){return null;},absoluteRTLLayout:false,dropdownOffset:{top:32,left:0},dropdownMargins:{min:8,max:16},rippleCentered:false,rippleSequential:true,rippleInsets:{top:16,right:0,bottom:-8,left:0},rippleOpacity:0.54,shadeOpacity:0.12,rippleDuration:400,animationDuration:225,fontSize:16,textColor:'rgba(0, 0, 0, .87)',itemColor:'rgba(0, 0, 0, .54)',baseColor:'rgba(0, 0, 0, .38)',itemCount:4,itemPadding:8,supportedOrientations:['portrait','portrait-upside-down','landscape','landscape-left','landscape-right'],useNativeDriver:false};Dropdown.propTypes=_objectSpread({},TouchableWithoutFeedback.propTypes,{disabled:PropTypes.bool,value:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),data:PropTypes.arrayOf(PropTypes.object),valueExtractor:PropTypes.func,labelExtractor:PropTypes.func,propsExtractor:PropTypes.func,absoluteRTLLayout:PropTypes.bool,dropdownOffset:PropTypes.shape({top:PropTypes.number.isRequired,left:PropTypes.number.isRequired}),dropdownMargins:PropTypes.shape({min:PropTypes.number.isRequired,max:PropTypes.number.isRequired}),dropdownPosition:PropTypes.number,rippleColor:PropTypes.string,rippleCentered:PropTypes.bool,rippleSequential:PropTypes.bool,rippleInsets:PropTypes.shape({top:PropTypes.number,right:PropTypes.number,bottom:PropTypes.number,left:PropTypes.number}),rippleOpacity:PropTypes.number,shadeOpacity:PropTypes.number,rippleDuration:PropTypes.number,animationDuration:PropTypes.number,fontSize:PropTypes.number,textColor:PropTypes.string,itemColor:PropTypes.string,selectedItemColor:PropTypes.string,disabledItemColor:PropTypes.string,baseColor:PropTypes.string,itemTextStyle:Text.propTypes.style,itemCount:PropTypes.number,itemPadding:PropTypes.number,onLayout:PropTypes.func,onFocus:PropTypes.func,onBlur:PropTypes.func,onChangeText:PropTypes.func,renderBase:PropTypes.func,renderAccessory:PropTypes.func,containerStyle:(ViewPropTypes||View.propTypes).style,overlayStyle:(ViewPropTypes||View.propTypes).style,pickerStyle:(ViewPropTypes||View.propTypes).style,supportedOrientations:PropTypes.arrayOf(PropTypes.string),useNativeDriver:PropTypes.bool});export{Dropdown as default};","map":{"version":3,"sources":["C:/Users/karth/Documents/RoboticsScoutingTool/node_modules/react-native-material-dropdown/src/components/dropdown/index.js"],"names":["PropTypes","React","PureComponent","Ripple","TextField","DropdownItem","styles","Dropdown","props","onPress","bind","onClose","onSelect","onLayout","updateRippleRef","updateRef","updateContainerRef","updateScrollRef","renderAccessory","renderItem","keyExtractor","blur","focus","value","mounted","focused","state","opacity","Animated","Value","selected","modal","setState","event","data","disabled","onFocus","itemPadding","rippleDuration","dropdownOffset","dropdownMargins","minMargin","min","maxMargin","max","animationDuration","absoluteRTLLayout","useNativeDriver","itemCount","length","timestamp","Date","now","nativeEvent","locationY","rippleInsets","top","locationX","left","ripple","startRipple","dimensions","Dimensions","get","container","measureInWindow","x","y","containerWidth","containerHeight","I18nManager","isRTL","width","delay","Math","selectedIndex","leftInset","right","rightInset","setTimeout","resetScrollOffset","timing","duration","toValue","start","Platform","OS","scroll","flashScrollIndicators","call","onBlur","index","valueExtractor","onChangeText","findIndex","item","fontSize","ceil","visibleItemCount","bottom","dropdownPosition","offset","itemSize","tailItemCount","scrollToOffset","animated","name","ref","renderBase","labelExtractor","title","String","select","ios","android","undefined","baseColor","rippleColor","rippleOpacity","rippleCentered","rippleSequential","insets","style","height","position","backgroundColor","triangleStyle","accessory","triangleContainer","triangle","propsExtractor","textColor","itemColor","selectedItemColor","disabledItemColor","itemTextStyle","shadeOpacity","shadeColor","label","color","textStyle","paddingLeft","paddingRight","containerStyle","overlayStyleOverrides","overlayStyle","pickerStyleOverrides","pickerStyle","hitSlop","pressRetentionOffset","testID","nativeID","accessible","accessibilityLabel","supportedOrientations","translateY","transform","touchableProps","renderRipple","overlay","picker","scrollContainer","defaultProps","propTypes","TouchableWithoutFeedback","bool","oneOfType","string","number","arrayOf","object","func","shape","isRequired","Text","ViewPropTypes","View"],"mappings":"64CAAA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,aAAhB,KAAqC,OAArC,C,goBAaA,MAAOC,CAAAA,MAAP,KAAmB,8BAAnB,CACA,OAASC,SAAT,KAA0B,iCAA1B,CAEA,MAAOC,CAAAA,YAAP,eACA,MAAOC,CAAAA,MAAP,gB,GAEqBC,CAAAA,Q,6DAyInB,kBAAYC,KAAZ,CAAmB,0CACjB,0EAAMA,KAAN,GAEA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf,CACA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaD,IAAb,+BAAf,CACA,MAAKE,QAAL,CAAgB,MAAKA,QAAL,CAAcF,IAAd,+BAAhB,CACA,MAAKG,QAAL,CAAgB,MAAKA,QAAL,CAAcH,IAAd,+BAAhB,CAEA,MAAKI,eAAL,CAAuB,MAAKC,SAAL,CAAeL,IAAf,+BAA0B,QAA1B,CAAvB,CACA,MAAKM,kBAAL,CAA0B,MAAKD,SAAL,CAAeL,IAAf,+BAA0B,WAA1B,CAA1B,CACA,MAAKO,eAAL,CAAuB,MAAKF,SAAL,CAAeL,IAAf,+BAA0B,QAA1B,CAAvB,CAEA,MAAKQ,eAAL,CAAuB,MAAKA,eAAL,CAAqBR,IAArB,+BAAvB,CACA,MAAKS,UAAL,CAAkB,MAAKA,UAAL,CAAgBT,IAAhB,+BAAlB,CAEA,MAAKU,YAAL,CAAoB,MAAKA,YAAL,CAAkBV,IAAlB,+BAApB,CAEA,MAAKW,IAAL,CAAY,iBAAM,OAAKV,OAAL,EAAN,EAAZ,CACA,MAAKW,KAAL,CAAa,MAAKb,OAAlB,CAlBiB,GAoBXc,CAAAA,KApBW,CAoBD,MAAKf,KApBJ,CAoBXe,KApBW,CAsBjB,MAAKC,OAAL,CAAe,KAAf,CACA,MAAKC,OAAL,CAAe,KAAf,CAEA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,GAAIC,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CADE,CAEXC,QAAQ,CAAE,CAAC,CAFA,CAGXC,KAAK,CAAE,KAHI,CAIXR,KAAK,CAALA,KAJW,CAAb,CAzBiB,aA+BlB,C,sGAEoC,IAATA,CAAAA,KAAS,MAATA,KAAS,CACnC,GAAIA,KAAK,GAAK,KAAKf,KAAL,CAAWe,KAAzB,CAAgC,CAC9B,KAAKS,QAAL,CAAc,CAAET,KAAK,CAALA,KAAF,CAAd,EACD,CACF,C,6DAEmB,CAClB,KAAKC,OAAL,CAAe,IAAf,CACD,C,mEAEsB,CACrB,KAAKA,OAAL,CAAe,KAAf,CACD,C,wCAEOS,K,CAAO,iCAYT,KAAKzB,KAZI,CAEX0B,IAFW,aAEXA,IAFW,CAGXC,QAHW,aAGXA,QAHW,CAIXC,OAJW,aAIXA,OAJW,CAKXC,WALW,aAKXA,WALW,CAMXC,cANW,aAMXA,cANW,CAOXC,cAPW,aAOXA,cAPW,mCAQXC,eARW,CAQaC,SARb,uBAQQC,GARR,CAQ6BC,SAR7B,uBAQwBC,GARxB,CASXC,iBATW,aASXA,iBATW,CAUXC,iBAVW,aAUXA,iBAVW,CAWXC,eAXW,aAWXA,eAXW,CAcb,GAAIZ,QAAJ,CAAc,CACZ,OACD,CAED,GAAIa,CAAAA,SAAS,CAAGd,IAAI,CAACe,MAArB,CACA,GAAIC,CAAAA,SAAS,CAAGC,IAAI,CAACC,GAAL,EAAhB,CAEA,GAAI,MAAQnB,KAAZ,CAAmB,CAEjBA,KAAK,CAACoB,WAAN,CAAkBC,SAAlB,EAA+B,KAAKC,YAAL,GAAoBC,GAAnD,CACAvB,KAAK,CAACoB,WAAN,CAAkBI,SAAlB,EAA+B,KAAKF,YAAL,GAAoBG,IAAnD,CAGA,KAAKC,MAAL,CAAYC,WAAZ,CAAwB3B,KAAxB,EACD,CAED,GAAI,CAACe,SAAL,CAAgB,CACd,OACD,CAED,KAAKvB,OAAL,CAAe,IAAf,CAEA,GAAI,aAAe,MAAOW,CAAAA,OAA1B,CAAmC,CACjCA,OAAO,GACR,CAED,GAAIyB,CAAAA,UAAU,CAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,CAAjB,CAEA,KAAKC,SAAL,CAAeC,eAAf,CAA+B,SAACC,CAAD,CAAIC,CAAJ,CAAOC,cAAP,CAAuBC,eAAvB,CAA2C,IAClE1C,CAAAA,OADkE,CACtD,MAAI,CAACD,KADiD,CAClEC,OADkE,CAIxE,GAAI2C,WAAW,CAACC,KAAZ,EAAqB,CAACzB,iBAA1B,CAA6C,CAC3CoB,CAAC,CAAGL,UAAU,CAACW,KAAX,EAAoBN,CAAC,CAAGE,cAAxB,CAAJ,CACD,CAED,GAAIK,CAAAA,KAAK,CAAGC,IAAI,CAAC9B,GAAL,CAAS,CAAT,CAAYN,cAAc,CAAGO,iBAAjB,EAAsCM,IAAI,CAACC,GAAL,GAAaF,SAAnD,CAAZ,CAAZ,CACA,GAAIpB,CAAAA,QAAQ,CAAG,MAAI,CAAC6C,aAAL,EAAf,CAEA,GAAIC,CAAAA,SAAJ,CACA,GAAIlB,CAAAA,IAAI,CAAGQ,CAAC,CACR3B,cAAc,CAACmB,IADR,CAEPf,SAFJ,CAIA,GAAIe,IAAI,CAAGjB,SAAX,CAAsB,CACpBmC,SAAS,CAAGjC,SAAZ,CACD,CAFD,IAEO,CACLe,IAAI,CAAGjB,SAAP,CACAmC,SAAS,CAAGnC,SAAZ,CACD,CAED,GAAIoC,CAAAA,KAAK,CAAGX,CAAC,CAAGE,cAAJ,CAAqBzB,SAAjC,CACA,GAAImC,CAAAA,UAAJ,CAEA,GAAIjB,UAAU,CAACW,KAAX,CAAmBK,KAAnB,CAA2BpC,SAA/B,CAA0C,CACxCqC,UAAU,CAAGnC,SAAb,CACD,CAFD,IAEO,CACLkC,KAAK,CAAGhB,UAAU,CAACW,KAAX,CAAmB/B,SAA3B,CACAqC,UAAU,CAAGrC,SAAb,CACD,CAED,GAAIe,CAAAA,GAAG,CAAGW,CAAC,CACP5B,cAAc,CAACiB,GADT,CAENnB,WAFJ,CAIA,MAAI,CAACL,QAAL,CAAc,CACZD,KAAK,CAAE,IADK,CAEZyC,KAAK,CAAEK,KAAK,CAAGnB,IAFH,CAGZF,GAAG,CAAHA,GAHY,CAIZE,IAAI,CAAJA,IAJY,CAKZkB,SAAS,CAATA,SALY,CAMZE,UAAU,CAAVA,UANY,CAOZhD,QAAQ,CAARA,QAPY,CAAd,EAUAiD,UAAU,CAAE,UAAM,CAChB,GAAI,MAAI,CAACvD,OAAT,CAAkB,CAChB,MAAI,CAACwD,iBAAL,GAEApD,QAAQ,CACLqD,MADH,CACUtD,OADV,CACmB,CACfuD,QAAQ,CAAErC,iBADK,CAEfsC,OAAO,CAAE,CAFM,CAGfpC,eAAe,CAAfA,eAHe,CADnB,EAMGqC,KANH,CAMS,UAAM,CACX,GAAI,MAAI,CAAC5D,OAAL,EAAgB,QAAU6D,QAAQ,CAACC,EAAvC,CAA2C,WACT,MAAI,CAACC,MAAL,EAAe,EADN,CACnCC,qBADmC,OACnCA,qBADmC,CAGzC,GAAI,aAAe,MAAOA,CAAAA,qBAA1B,CAAiD,CAC/CA,qBAAqB,CAACC,IAAtB,CAA2B,MAAI,CAACF,MAAhC,EACD,CACF,CACF,CAdH,EAeD,CACF,CApBS,CAoBNd,KApBM,CAAV,CAqBD,CApED,EAqED,C,yCAEiC,oBAA1BlD,CAAAA,KAA0B,2DAAlB,KAAKG,KAAL,CAAWH,KAAO,kBACqB,KAAKf,KAD1B,CAC1BkF,MAD0B,cAC1BA,MAD0B,CAClB7C,iBADkB,cAClBA,iBADkB,CACCE,eADD,cACCA,eADD,IAE1BpB,CAAAA,OAF0B,CAEd,KAAKD,KAFS,CAE1BC,OAF0B,CAIhCC,QAAQ,CACLqD,MADH,CACUtD,OADV,CACmB,CACfuD,QAAQ,CAAErC,iBADK,CAEfsC,OAAO,CAAE,CAFM,CAGfpC,eAAe,CAAfA,eAHe,CADnB,EAMGqC,KANH,CAMS,UAAM,CACX,MAAI,CAAC3D,OAAL,CAAe,KAAf,CAEA,GAAI,aAAe,MAAOiE,CAAAA,MAA1B,CAAkC,CAChCA,MAAM,GACP,CAED,GAAI,MAAI,CAAClE,OAAT,CAAkB,CAChB,MAAI,CAACQ,QAAL,CAAc,CAAET,KAAK,CAALA,KAAF,CAASQ,KAAK,CAAE,KAAhB,CAAd,EACD,CACF,CAhBH,EAiBD,C,0CAEQ4D,K,CAAO,kCAOV,KAAKnF,KAPK,CAEZ0B,IAFY,cAEZA,IAFY,CAGZ0D,cAHY,cAGZA,cAHY,CAIZC,YAJY,cAIZA,YAJY,CAKZhD,iBALY,cAKZA,iBALY,CAMZP,cANY,cAMZA,cANY,CASd,GAAIf,CAAAA,KAAK,CAAGqE,cAAc,CAAC1D,IAAI,CAACyD,KAAD,CAAL,CAAcA,KAAd,CAA1B,CACA,GAAIlB,CAAAA,KAAK,CAAGC,IAAI,CAAC9B,GAAL,CAAS,CAAT,CAAYN,cAAc,CAAGO,iBAA7B,CAAZ,CAEA,GAAI,aAAe,MAAOgD,CAAAA,YAA1B,CAAwC,CACtCA,YAAY,CAACtE,KAAD,CAAQoE,KAAR,CAAezD,IAAf,CAAZ,CACD,CAED6C,UAAU,CAAC,iBAAM,CAAA,MAAI,CAACpE,OAAL,CAAaY,KAAb,CAAN,EAAD,CAA4BkD,KAA5B,CAAV,CACD,C,0CAEQxC,K,CAAO,IACRpB,CAAAA,QADQ,CACK,KAAKL,KADV,CACRK,QADQ,CAGd,GAAI,aAAe,MAAOA,CAAAA,QAA1B,CAAoC,CAClCA,QAAQ,CAACoB,KAAD,CAAR,CACD,CACF,C,qCAEO,IACAV,CAAAA,KADA,CACU,KAAKG,KADf,CACAH,KADA,CAGN,MAAOA,CAAAA,KAAP,CACD,C,qDAEe,IACRA,CAAAA,KADQ,CACE,KAAKG,KADP,CACRH,KADQ,kBAEiB,KAAKf,KAFtB,CAER0B,IAFQ,cAERA,IAFQ,CAEF0D,cAFE,cAEFA,cAFE,CAId,MAAO1D,CAAAA,IAAI,CACR4D,SADI,CACM,SAACC,IAAD,CAAOJ,KAAP,QAAiB,OAAQI,IAAR,EAAgBxE,KAAK,GAAKqE,cAAc,CAACG,IAAD,CAAOJ,KAAP,CAAzD,EADN,CAAP,CAED,C,mDAEc,IACPzD,CAAAA,IADO,CACE,KAAK1B,KADP,CACP0B,IADO,CAGb,MAAOA,CAAAA,IAAI,CAAC,KAAKyC,aAAL,EAAD,CAAX,CACD,C,6CAEW,CACV,MAAO,MAAKlD,OAAZ,CACD,C,2CAEU,kBACuB,KAAKjB,KAD5B,CACHwF,QADG,cACHA,QADG,CACO3D,WADP,cACOA,WADP,CAGT,MAAOqC,CAAAA,IAAI,CAACuB,IAAL,CAAUD,QAAQ,CAAG,GAAX,CAAiB3D,WAAW,CAAG,CAAzC,CAAP,CACD,C,2DAEkB,kBACS,KAAK7B,KADd,CACX0B,IADW,cACXA,IADW,CACLc,SADK,cACLA,SADK,CAGjB,MAAO0B,CAAAA,IAAI,CAAChC,GAAL,CAASR,IAAI,CAACe,MAAd,CAAsBD,SAAtB,CAAP,CACD,C,qDAEe,CACd,MAAO0B,CAAAA,IAAI,CAAC9B,GAAL,CAAS,KAAKsD,gBAAL,GAA0B,CAAnC,CAAsC,CAAtC,CAAP,CACD,C,mDAEc,WAMT,KAAK1F,KAAL,CAAW+C,YAAX,EAA2B,EANlB,iBAEXC,GAFW,CAEXA,GAFW,oBAEL,EAFK,6BAGXqB,KAHW,CAGXA,KAHW,sBAGH,CAHG,gCAIXsB,MAJW,CAIXA,MAJW,uBAIF,CAAC,CAJC,+BAKXzC,IALW,CAKXA,IALW,qBAKJ,CALI,YAQb,MAAO,CAAEF,GAAG,CAAHA,GAAF,CAAOqB,KAAK,CAALA,KAAP,CAAcsB,MAAM,CAANA,MAAd,CAAsBzC,IAAI,CAAJA,IAAtB,CAAP,CACD,C,6DAEmB,IACZ5B,CAAAA,QADY,CACC,KAAKJ,KADN,CACZI,QADY,kBAEe,KAAKtB,KAFpB,CAEZ0B,IAFY,cAEZA,IAFY,CAENkE,gBAFM,cAENA,gBAFM,CAIlB,GAAIC,CAAAA,MAAM,CAAG,CAAb,CACA,GAAIrD,CAAAA,SAAS,CAAGd,IAAI,CAACe,MAArB,CACA,GAAIqD,CAAAA,QAAQ,CAAG,KAAKA,QAAL,EAAf,CACA,GAAIC,CAAAA,aAAa,CAAG,KAAKA,aAAL,EAApB,CACA,GAAIL,CAAAA,gBAAgB,CAAG,KAAKA,gBAAL,EAAvB,CAEA,GAAIlD,SAAS,CAAGkD,gBAAhB,CAAkC,CAChC,GAAI,MAAQE,gBAAZ,CAA8B,CAC5B,OAAQtE,QAAR,EACE,IAAK,CAAC,CAAN,CACE,MAEF,IAAK,EAAL,CACA,IAAK,EAAL,CACE,MAEF,QACE,GAAIA,QAAQ,EAAIkB,SAAS,CAAGuD,aAA5B,CAA2C,CACzCF,MAAM,CAAGC,QAAQ,EAAItD,SAAS,CAAGkD,gBAAhB,CAAjB,CACD,CAFD,IAEO,CACLG,MAAM,CAAGC,QAAQ,EAAIxE,QAAQ,CAAG,CAAf,CAAjB,CACD,CAbL,CAeD,CAhBD,IAgBO,CACL,GAAI6D,CAAAA,KAAK,CAAG7D,QAAQ,CAAGsE,gBAAvB,CAEA,GAAIA,gBAAgB,CAAG,CAAvB,CAA0B,CACxBT,KAAK,EAAIO,gBAAT,CACD,CAEDP,KAAK,CAAGjB,IAAI,CAAC9B,GAAL,CAAS,CAAT,CAAY+C,KAAZ,CAAR,CACAA,KAAK,CAAGjB,IAAI,CAAChC,GAAL,CAASiD,KAAT,CAAgB3C,SAAS,CAAGkD,gBAA5B,CAAR,CAEA,GAAI,CAACpE,QAAL,CAAe,CACbuE,MAAM,CAAGC,QAAQ,CAAGX,KAApB,CACD,CACF,CACF,CAED,GAAI,KAAKJ,MAAT,CAAiB,CACf,KAAKA,MAAL,CAAYiB,cAAZ,CAA2B,CAAEH,MAAM,CAANA,MAAF,CAAUI,QAAQ,CAAE,KAApB,CAA3B,EACD,CACF,C,4CAESC,I,CAAMC,G,CAAK,CACnB,KAAKD,IAAL,EAAaC,GAAb,CACD,C,kDAEYZ,I,CAAMJ,K,CAAO,IAClBC,CAAAA,cADkB,CACC,KAAKpF,KADN,CAClBoF,cADkB,CAGxB,MAAUD,CAAAA,KAAV,KAAmBC,cAAc,CAACG,IAAD,CAAOJ,KAAP,CAAjC,CACD,C,8CAEUnF,K,CAAO,IACVe,CAAAA,KADU,CACA,KAAKG,KADL,CACVH,KADU,kBAQZ,KAAKf,KARO,CAGd0B,IAHc,cAGdA,IAHc,CAId0E,UAJc,cAIdA,UAJc,CAKdC,cALc,cAKdA,cALc,CAMdtE,cANc,cAMdA,cANc,oCAOdrB,eAPc,CAOdA,eAPc,gCAOI,KAAKA,eAPT,uBAUhB,GAAIyE,CAAAA,KAAK,CAAG,KAAKhB,aAAL,EAAZ,CACA,GAAImC,CAAAA,KAAJ,CAEA,GAAI,CAACnB,KAAL,CAAY,CACVmB,KAAK,CAAGD,cAAc,CAAC3E,IAAI,CAACyD,KAAD,CAAL,CAAcA,KAAd,CAAtB,CACD,CAED,GAAI,MAAQmB,KAAZ,CAAmB,CACjBA,KAAK,CAAGvF,KAAR,CACD,CAED,GAAI,aAAe,MAAOqF,CAAAA,UAA1B,CAAsC,CACpC,MAAOA,CAAAA,UAAU,kBAAMpG,KAAN,EAAasG,KAAK,CAALA,KAAb,CAAoBvF,KAAK,CAALA,KAApB,CAA2BL,eAAe,CAAfA,eAA3B,GAAjB,CACD,CAED4F,KAAK,CAAG,MAAQA,KAAR,EAAiB,WAAa,MAAOA,CAAAA,KAArC,CACNA,KADM,CAENC,MAAM,CAACD,KAAD,CAFR,CAIA,MACE,qBAAC,SAAD,WACE,KAAK,CAAC,EADR,CAEE,WAAW,CAAEvE,cAAc,CAACiB,GAAf,CAAqB6B,QAAQ,CAAC2B,MAAT,CAAgB,CAAEC,GAAG,CAAE,CAAP,CAAUC,OAAO,CAAE,CAAnB,CAAhB,CAFpC,EAIM1G,KAJN,EAME,KAAK,CAAEsG,KANT,CAOE,QAAQ,CAAE,KAPZ,CAQE,YAAY,CAAEK,SARhB,CASE,eAAe,CAAEjG,eATnB,GADF,CAaD,C,mDAEc,kBAQT,KAAKV,KARI,CAEX4G,SAFW,cAEXA,SAFW,oCAGXC,WAHW,CAGXA,WAHW,gCAGGD,SAHH,uBAIXE,aAJW,cAIXA,aAJW,CAKXhF,cALW,cAKXA,cALW,CAMXiF,cANW,cAMXA,cANW,CAOXC,gBAPW,cAOXA,gBAPW,wBAUe,KAAKjE,YAAL,EAVf,CAUP4C,MAVO,oBAUPA,MAVO,CAUIsB,MAVJ,yDAWb,GAAIC,CAAAA,KAAK,kBACJD,MADI,EAGPE,MAAM,CAAE,KAAKrB,QAAL,GAAkBH,MAHnB,CAIPyB,QAAQ,CAAE,UAJH,EAAT,CAOA,MACE,qBAAC,MAAD,EACE,KAAK,CAAEF,KADT,CAEE,WAAW,CAAEL,WAFf,CAGE,cAAc,CAAE/E,cAHlB,CAIE,aAAa,CAAEgF,aAJjB,CAKE,cAAc,CAAEC,cALlB,CAME,gBAAgB,CAAEC,gBANpB,CAOE,GAAG,CAAE,KAAK1G,eAPZ,EADF,CAWD,C,yDAEiB,IACC+G,CAAAA,eADD,CACqB,KAAKrH,KAD1B,CACV4G,SADU,CAEhB,GAAIU,CAAAA,aAAa,CAAG,CAAED,eAAe,CAAfA,eAAF,CAApB,CAEA,MACE,qBAAC,IAAD,EAAM,KAAK,CAAEvH,MAAM,CAACyH,SAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEzH,MAAM,CAAC0H,iBAApB,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAC1H,MAAM,CAAC2H,QAAR,CAAkBH,aAAlB,CAAb,EADF,CADF,CADF,CAOD,C,oDAE2B,IAAf/B,CAAAA,IAAe,OAAfA,IAAe,CAATJ,KAAS,OAATA,KAAS,CAC1B,GAAI,MAAQI,IAAZ,CAAkB,CAChB,MAAO,KAAP,CACD,CAHyB,gBAKgB,KAAKrE,KALrB,CAKpBI,QALoB,aAKpBA,QALoB,CAKV8C,SALU,aAKVA,SALU,CAKCE,UALD,aAKCA,UALD,mBAqBtB,KAAKtE,KArBiB,CAQxBoF,cARwB,eAQxBA,cARwB,CASxBiB,cATwB,eASxBA,cATwB,CAUxBqB,cAVwB,eAUxBA,cAVwB,CAWxBC,SAXwB,eAWxBA,SAXwB,CAYxBC,SAZwB,eAYxBA,SAZwB,CAaxBhB,SAbwB,eAaxBA,SAbwB,qCAcxBiB,iBAdwB,CAcxBA,iBAdwB,gCAcJF,SAdI,2DAexBG,iBAfwB,CAexBA,iBAfwB,gCAeJlB,SAfI,uBAgBxBpB,QAhBwB,eAgBxBA,QAhBwB,CAiBxBuC,aAjBwB,eAiBxBA,aAjBwB,CAkBxBjB,aAlBwB,eAkBxBA,aAlBwB,CAmBxBhF,cAnBwB,eAmBxBA,cAnBwB,CAoBxBkG,YApBwB,eAoBxBA,YApBwB,CAuB1B,GAAIhI,CAAAA,KAAK,CAAG0H,cAAc,CAACnC,IAAD,CAAOJ,KAAP,CAA1B,CAvB0B,WA0BtBnF,KAAK,gBAEL8B,cAAc,CAAdA,cAFK,CAGLgF,aAAa,CAAbA,aAHK,CAILD,WAAW,CAAED,SAJR,CAMLqB,UAAU,CAAErB,SANP,CAOLoB,YAAY,CAAZA,YAPK,EASFhI,KATE,EAWLC,OAAO,CAAE,KAAKG,QAXT,EA1BiB,CAyBpB8G,KAzBoB,QAyBpBA,KAzBoB,CAyBbvF,QAzBa,QAyBbA,QAzBa,CAwC1B,GAAIZ,CAAAA,KAAK,CAAGqE,cAAc,CAACG,IAAD,CAAOJ,KAAP,CAA1B,CACA,GAAI+C,CAAAA,KAAK,CAAG7B,cAAc,CAACd,IAAD,CAAOJ,KAAP,CAA1B,CAEA,GAAImB,CAAAA,KAAK,CAAG,MAAQ4B,KAAR,CACVnH,KADU,CAEVmH,KAFF,CAIA,GAAIC,CAAAA,KAAK,CAAGxG,QAAQ,CAClBmG,iBADkB,CAElB,CAACxG,QAAD,CACE6D,KAAK,GAAK7D,QAAV,CACEuG,iBADF,CAEED,SAHJ,CAIEC,iBANJ,CAQA,GAAIO,CAAAA,SAAS,CAAG,CAAED,KAAK,CAALA,KAAF,CAAS3C,QAAQ,CAARA,QAAT,CAAhB,CAEAxF,KAAK,CAACkH,KAAN,CAAc,CACZA,KADY,CAEZ,CACEC,MAAM,CAAE,KAAKrB,QAAL,EADV,CAEEuC,WAAW,CAAEjE,SAFf,CAGEkE,YAAY,CAAEhE,UAHhB,CAFY,CAAd,CASA,MACE,qBAAC,YAAD,WAAc,KAAK,CAAEa,KAArB,EAAgCnF,KAAhC,EACE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACF,MAAM,CAACyF,IAAR,CAAcwC,aAAd,CAA6BK,SAA7B,CAAb,CAAsD,aAAa,CAAE,CAArE,EACG9B,KADH,CADF,CADF,CAOD,C,uCAEQ,mBAuBH,KAAKtG,KAvBF,CAELoG,UAFK,eAELA,UAFK,CAGL1F,eAHK,eAGLA,eAHK,CAIL6H,cAJK,eAILA,cAJK,CAKSC,qBALT,eAKLC,YALK,CAMQC,oBANR,eAMLC,WANK,CAQL5F,YARK,eAQLA,YARK,CASL+D,aATK,eASLA,aATK,CAULC,cAVK,eAULA,cAVK,CAWLC,gBAXK,eAWLA,gBAXK,CAaL4B,OAbK,eAaLA,OAbK,CAcLC,oBAdK,eAcLA,oBAdK,CAeLC,MAfK,eAeLA,MAfK,CAgBLC,QAhBK,eAgBLA,QAhBK,CAiBLC,UAjBK,eAiBLA,UAjBK,CAkBLC,kBAlBK,eAkBLA,kBAlBK,CAoBLC,qBApBK,eAoBLA,qBApBK,CAsBFlJ,KAtBE,6SA0BL0B,CAAAA,IA1BK,CA8BH1B,KA9BG,CA0BL0B,IA1BK,CA2BLC,QA3BK,CA8BH3B,KA9BG,CA2BL2B,QA3BK,CA4BLE,WA5BK,CA8BH7B,KA9BG,CA4BL6B,WA5BK,CA6BL+D,gBA7BK,CA8BH5F,KA9BG,CA6BL4F,gBA7BK,kBAgC8C,KAAK1E,KAhCnD,CAgCDgC,IAhCC,cAgCDA,IAhCC,CAgCKF,GAhCL,cAgCKA,GAhCL,CAgCUgB,KAhCV,cAgCUA,KAhCV,CAgCiB7C,OAhCjB,cAgCiBA,OAhCjB,CAgC0BG,QAhC1B,cAgC0BA,QAhC1B,CAgCoCC,KAhCpC,cAgCoCA,KAhCpC,CAkCP,GAAIiB,CAAAA,SAAS,CAAGd,IAAI,CAACe,MAArB,CACA,GAAIiD,CAAAA,gBAAgB,CAAG,KAAKA,gBAAL,EAAvB,CACA,GAAIK,CAAAA,aAAa,CAAG,KAAKA,aAAL,EAApB,CACA,GAAID,CAAAA,QAAQ,CAAG,KAAKA,QAAL,EAAf,CAEA,GAAIqB,CAAAA,MAAM,CAAG,EAAItF,WAAJ,CAAkBiE,QAAQ,CAAGJ,gBAA1C,CACA,GAAIyD,CAAAA,UAAU,CAAG,CAACtH,WAAlB,CAEA,GAAI,MAAQ+D,gBAAZ,CAA8B,CAC5B,OAAQtE,QAAR,EACE,IAAK,CAAC,CAAN,CACE6H,UAAU,EAAI,IAAM3G,SAAN,CAAiB,CAAjB,CAAqBsD,QAAnC,CACA,MAEF,IAAK,EAAL,CACE,MAEF,QACE,GAAIxE,QAAQ,EAAIkB,SAAS,CAAGuD,aAA5B,CAA2C,CACzCoD,UAAU,EAAIrD,QAAQ,EAAIJ,gBAAgB,EAAIlD,SAAS,CAAGlB,QAAhB,CAApB,CAAtB,CACD,CAFD,IAEO,CACL6H,UAAU,EAAIrD,QAAd,CACD,CAbL,CAeD,CAhBD,IAgBO,CACL,GAAIF,gBAAgB,CAAG,CAAvB,CAA0B,CACxBuD,UAAU,EAAIrD,QAAQ,EAAIJ,gBAAgB,CAAGE,gBAAvB,CAAtB,CACD,CAFD,IAEO,CACLuD,UAAU,EAAIrD,QAAQ,CAAGF,gBAAzB,CACD,CACF,CAED,GAAI6C,CAAAA,YAAY,CAAG,CAAEtH,OAAO,CAAPA,OAAF,CAAnB,CAEA,GAAIwH,CAAAA,WAAW,CAAG,CAChB3E,KAAK,CAALA,KADgB,CAEhBmD,MAAM,CAANA,MAFgB,CAGhBnE,GAAG,CAAHA,GAHgB,CAIhBE,IAAI,CAAJA,IAJgB,CAKhBkG,SAAS,CAAE,CAAC,CAAED,UAAU,CAAVA,UAAF,CAAD,CALK,CAAlB,CAQA,GAAIE,CAAAA,cAAc,CAAG,CACnB1H,QAAQ,CAARA,QADmB,CAEnBiH,OAAO,CAAPA,OAFmB,CAGnBC,oBAAoB,CAApBA,oBAHmB,CAInB5I,OAAO,CAAE,KAAKA,OAJK,CAKnB6I,MAAM,CAANA,MALmB,CAMnBC,QAAQ,CAARA,QANmB,CAOnBC,UAAU,CAAVA,UAPmB,CAQnBC,kBAAkB,CAAlBA,kBARmB,CAArB,CAWA,MACE,qBAAC,IAAD,EAAM,QAAQ,CAAE,KAAK5I,QAArB,CAA+B,GAAG,CAAE,KAAKG,kBAAzC,CAA6D,KAAK,CAAE+H,cAApE,EACE,oBAAC,wBAAD,CAA8Bc,cAA9B,CACE,oBAAC,IAAD,EAAM,aAAa,CAAC,UAApB,EACG,KAAKjD,UAAL,CAAgBpG,KAAhB,CADH,CAEG,KAAKsJ,YAAL,EAFH,CADF,CADF,CAQE,oBAAC,KAAD,EACE,OAAO,CAAE/H,KADX,CAEE,WAAW,CAAE,IAFf,CAGE,cAAc,CAAE,KAAKV,IAHvB,CAIE,qBAAqB,CAAEqI,qBAJzB,EAME,oBAAC,QAAD,CAAU,IAAV,EACE,KAAK,CAAE,CAACpJ,MAAM,CAACyJ,OAAR,CAAiBd,YAAjB,CAA+BD,qBAA/B,CADT,CAEE,yBAAyB,CAAE,2CAAM,KAAN,EAF7B,CAGE,kBAAkB,CAAE,KAAK3H,IAH3B,EAKE,oBAAC,IAAD,EACE,KAAK,CAAE,CAACf,MAAM,CAAC0J,MAAR,CAAgBb,WAAhB,CAA6BD,oBAA7B,CADT,CAEE,yBAAyB,CAAE,2CAAM,KAAN,EAF7B,EAIE,oBAAC,QAAD,EACE,GAAG,CAAE,KAAKjI,eADZ,CAEE,IAAI,CAAEiB,IAFR,CAGE,KAAK,CAAE5B,MAAM,CAACiF,MAHhB,CAIE,UAAU,CAAE,KAAKpE,UAJnB,CAKE,YAAY,CAAE,KAAKC,YALrB,CAME,aAAa,CAAE8E,gBAAgB,CAAGlD,SANpC,CAOE,qBAAqB,CAAE1C,MAAM,CAAC2J,eAPhC,EAJF,CALF,CANF,CARF,CADF,CAsCD,C,sBAxuBmC/J,a,EAAjBK,Q,CACZ2J,Y,CAAe,CACpBd,OAAO,CAAE,CAAE5F,GAAG,CAAE,CAAP,CAAUqB,KAAK,CAAE,CAAjB,CAAoBsB,MAAM,CAAE,CAA5B,CAA+BzC,IAAI,CAAE,CAArC,CADW,CAGpBvB,QAAQ,CAAE,KAHU,CAKpBD,IAAI,CAAE,EALc,CAOpB0D,cAAc,CAAE,8FAAa,EAAb,CAAGrE,KAAH,OAAGA,KAAH,IAAiBoE,CAAAA,KAAjB,iDAA2BpE,CAAAA,KAA3B,EAPI,CAQpBsF,cAAc,CAAE,8FAAa,EAAb,CAAG6B,KAAH,OAAGA,KAAH,IAAiB/C,CAAAA,KAAjB,iDAA2B+C,CAAAA,KAA3B,EARI,CASpBR,cAAc,CAAE,gCAAM,KAAN,EATI,CAWpBpF,iBAAiB,CAAE,KAXC,CAapBP,cAAc,CAAE,CACdiB,GAAG,CAAE,EADS,CAEdE,IAAI,CAAE,CAFQ,CAbI,CAkBpBlB,eAAe,CAAE,CACfE,GAAG,CAAE,CADU,CAEfE,GAAG,CAAE,EAFU,CAlBG,CAuBpB2E,cAAc,CAAE,KAvBI,CAwBpBC,gBAAgB,CAAE,IAxBE,CA0BpBjE,YAAY,CAAE,CACZC,GAAG,CAAE,EADO,CAEZqB,KAAK,CAAE,CAFK,CAGZsB,MAAM,CAAE,CAAC,CAHG,CAIZzC,IAAI,CAAE,CAJM,CA1BM,CAiCpB4D,aAAa,CAAE,IAjCK,CAkCpBkB,YAAY,CAAE,IAlCM,CAoCpBlG,cAAc,CAAE,GApCI,CAqCpBO,iBAAiB,CAAE,GArCC,CAuCpBmD,QAAQ,CAAE,EAvCU,CAyCpBmC,SAAS,CAAE,oBAzCS,CA0CpBC,SAAS,CAAE,oBA1CS,CA2CpBhB,SAAS,CAAE,oBA3CS,CA6CpBpE,SAAS,CAAE,CA7CS,CA8CpBX,WAAW,CAAE,CA9CO,CAgDpBqH,qBAAqB,CAAE,CACrB,UADqB,CAErB,sBAFqB,CAGrB,WAHqB,CAIrB,gBAJqB,CAKrB,iBALqB,CAhDH,CAwDpB3G,eAAe,CAAE,KAxDG,C,CADHxC,Q,CA4DZ4J,S,kBACFC,wBAAwB,CAACD,S,EAE5BhI,QAAQ,CAAEnC,SAAS,CAACqK,I,CAEpB9I,KAAK,CAAEvB,SAAS,CAACsK,SAAV,CAAoB,CACzBtK,SAAS,CAACuK,MADe,CAEzBvK,SAAS,CAACwK,MAFe,CAApB,C,CAKPtI,IAAI,CAAElC,SAAS,CAACyK,OAAV,CAAkBzK,SAAS,CAAC0K,MAA5B,C,CAEN9E,cAAc,CAAE5F,SAAS,CAAC2K,I,CAC1B9D,cAAc,CAAE7G,SAAS,CAAC2K,I,CAC1BzC,cAAc,CAAElI,SAAS,CAAC2K,I,CAE1B7H,iBAAiB,CAAE9C,SAAS,CAACqK,I,CAE7B9H,cAAc,CAAEvC,SAAS,CAAC4K,KAAV,CAAgB,CAC9BpH,GAAG,CAAExD,SAAS,CAACwK,MAAV,CAAiBK,UADQ,CAE9BnH,IAAI,CAAE1D,SAAS,CAACwK,MAAV,CAAiBK,UAFO,CAAhB,C,CAKhBrI,eAAe,CAAExC,SAAS,CAAC4K,KAAV,CAAgB,CAC/BlI,GAAG,CAAE1C,SAAS,CAACwK,MAAV,CAAiBK,UADS,CAE/BjI,GAAG,CAAE5C,SAAS,CAACwK,MAAV,CAAiBK,UAFS,CAAhB,C,CAKjBzE,gBAAgB,CAAEpG,SAAS,CAACwK,M,CAE5BnD,WAAW,CAAErH,SAAS,CAACuK,M,CACvBhD,cAAc,CAAEvH,SAAS,CAACqK,I,CAC1B7C,gBAAgB,CAAExH,SAAS,CAACqK,I,CAE5B9G,YAAY,CAAEvD,SAAS,CAAC4K,KAAV,CAAgB,CAC5BpH,GAAG,CAAExD,SAAS,CAACwK,MADa,CAE5B3F,KAAK,CAAE7E,SAAS,CAACwK,MAFW,CAG5BrE,MAAM,CAAEnG,SAAS,CAACwK,MAHU,CAI5B9G,IAAI,CAAE1D,SAAS,CAACwK,MAJY,CAAhB,C,CAOdlD,aAAa,CAAEtH,SAAS,CAACwK,M,CACzBhC,YAAY,CAAExI,SAAS,CAACwK,M,CAExBlI,cAAc,CAAEtC,SAAS,CAACwK,M,CAC1B3H,iBAAiB,CAAE7C,SAAS,CAACwK,M,CAE7BxE,QAAQ,CAAEhG,SAAS,CAACwK,M,CAEpBrC,SAAS,CAAEnI,SAAS,CAACuK,M,CACrBnC,SAAS,CAAEpI,SAAS,CAACuK,M,CACrBlC,iBAAiB,CAAErI,SAAS,CAACuK,M,CAC7BjC,iBAAiB,CAAEtI,SAAS,CAACuK,M,CAC7BnD,SAAS,CAAEpH,SAAS,CAACuK,M,CAErBhC,aAAa,CAAEuC,IAAI,CAACX,SAAL,CAAezC,K,CAE9B1E,SAAS,CAAEhD,SAAS,CAACwK,M,CACrBnI,WAAW,CAAErC,SAAS,CAACwK,M,CAEvB3J,QAAQ,CAAEb,SAAS,CAAC2K,I,CACpBvI,OAAO,CAAEpC,SAAS,CAAC2K,I,CACnBjF,MAAM,CAAE1F,SAAS,CAAC2K,I,CAClB9E,YAAY,CAAE7F,SAAS,CAAC2K,I,CAExB/D,UAAU,CAAE5G,SAAS,CAAC2K,I,CACtBzJ,eAAe,CAAElB,SAAS,CAAC2K,I,CAE3B5B,cAAc,CAAE,CAACgC,aAAa,EAAIC,IAAI,CAACb,SAAvB,EAAkCzC,K,CAClDuB,YAAY,CAAE,CAAC8B,aAAa,EAAIC,IAAI,CAACb,SAAvB,EAAkCzC,K,CAChDyB,WAAW,CAAE,CAAC4B,aAAa,EAAIC,IAAI,CAACb,SAAvB,EAAkCzC,K,CAE/CgC,qBAAqB,CAAE1J,SAAS,CAACyK,OAAV,CAAkBzK,SAAS,CAACuK,MAA5B,C,CAEvBxH,eAAe,CAAE/C,SAAS,CAACqK,I,UAtIV9J,Q","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport {\n  Text,\n  View,\n  FlatList,\n  Animated,\n  Modal,\n  TouchableWithoutFeedback,\n  Dimensions,\n  Platform,\n  ViewPropTypes,\n  I18nManager,\n} from 'react-native';\nimport Ripple from 'react-native-material-ripple';\nimport { TextField } from 'react-native-material-textfield';\n\nimport DropdownItem from '../item';\nimport styles from './styles';\n\nexport default class Dropdown extends PureComponent {\n  static defaultProps = {\n    hitSlop: { top: 6, right: 4, bottom: 6, left: 4 },\n\n    disabled: false,\n\n    data: [],\n\n    valueExtractor: ({ value } = {}, index) => value,\n    labelExtractor: ({ label } = {}, index) => label,\n    propsExtractor: () => null,\n\n    absoluteRTLLayout: false,\n\n    dropdownOffset: {\n      top: 32,\n      left: 0,\n    },\n\n    dropdownMargins: {\n      min: 8,\n      max: 16,\n    },\n\n    rippleCentered: false,\n    rippleSequential: true,\n\n    rippleInsets: {\n      top: 16,\n      right: 0,\n      bottom: -8,\n      left: 0,\n    },\n\n    rippleOpacity: 0.54,\n    shadeOpacity: 0.12,\n\n    rippleDuration: 400,\n    animationDuration: 225,\n\n    fontSize: 16,\n\n    textColor: 'rgba(0, 0, 0, .87)',\n    itemColor: 'rgba(0, 0, 0, .54)',\n    baseColor: 'rgba(0, 0, 0, .38)',\n\n    itemCount: 4,\n    itemPadding: 8,\n\n    supportedOrientations: [\n      'portrait',\n      'portrait-upside-down',\n      'landscape',\n      'landscape-left',\n      'landscape-right',\n    ],\n\n    useNativeDriver: false,\n  };\n\n  static propTypes = {\n    ...TouchableWithoutFeedback.propTypes,\n\n    disabled: PropTypes.bool,\n\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n\n    data: PropTypes.arrayOf(PropTypes.object),\n\n    valueExtractor: PropTypes.func,\n    labelExtractor: PropTypes.func,\n    propsExtractor: PropTypes.func,\n\n    absoluteRTLLayout: PropTypes.bool,\n\n    dropdownOffset: PropTypes.shape({\n      top: PropTypes.number.isRequired,\n      left: PropTypes.number.isRequired,\n    }),\n\n    dropdownMargins: PropTypes.shape({\n      min: PropTypes.number.isRequired,\n      max: PropTypes.number.isRequired,\n    }),\n\n    dropdownPosition: PropTypes.number,\n\n    rippleColor: PropTypes.string,\n    rippleCentered: PropTypes.bool,\n    rippleSequential: PropTypes.bool,\n\n    rippleInsets: PropTypes.shape({\n      top: PropTypes.number,\n      right: PropTypes.number,\n      bottom: PropTypes.number,\n      left: PropTypes.number,\n    }),\n\n    rippleOpacity: PropTypes.number,\n    shadeOpacity: PropTypes.number,\n\n    rippleDuration: PropTypes.number,\n    animationDuration: PropTypes.number,\n\n    fontSize: PropTypes.number,\n\n    textColor: PropTypes.string,\n    itemColor: PropTypes.string,\n    selectedItemColor: PropTypes.string,\n    disabledItemColor: PropTypes.string,\n    baseColor: PropTypes.string,\n\n    itemTextStyle: Text.propTypes.style,\n\n    itemCount: PropTypes.number,\n    itemPadding: PropTypes.number,\n\n    onLayout: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChangeText: PropTypes.func,\n\n    renderBase: PropTypes.func,\n    renderAccessory: PropTypes.func,\n\n    containerStyle: (ViewPropTypes || View.propTypes).style,\n    overlayStyle: (ViewPropTypes || View.propTypes).style,\n    pickerStyle: (ViewPropTypes || View.propTypes).style,\n\n    supportedOrientations: PropTypes.arrayOf(PropTypes.string),\n\n    useNativeDriver: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onPress = this.onPress.bind(this);\n    this.onClose = this.onClose.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onLayout = this.onLayout.bind(this);\n\n    this.updateRippleRef = this.updateRef.bind(this, 'ripple');\n    this.updateContainerRef = this.updateRef.bind(this, 'container');\n    this.updateScrollRef = this.updateRef.bind(this, 'scroll');\n\n    this.renderAccessory = this.renderAccessory.bind(this);\n    this.renderItem = this.renderItem.bind(this);\n\n    this.keyExtractor = this.keyExtractor.bind(this);\n\n    this.blur = () => this.onClose();\n    this.focus = this.onPress;\n\n    let { value } = this.props;\n\n    this.mounted = false;\n    this.focused = false;\n\n    this.state = {\n      opacity: new Animated.Value(0),\n      selected: -1,\n      modal: false,\n      value,\n    };\n  }\n\n  componentWillReceiveProps({ value }) {\n    if (value !== this.props.value) {\n      this.setState({ value });\n    }\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onPress(event) {\n    let {\n      data,\n      disabled,\n      onFocus,\n      itemPadding,\n      rippleDuration,\n      dropdownOffset,\n      dropdownMargins: { min: minMargin, max: maxMargin },\n      animationDuration,\n      absoluteRTLLayout,\n      useNativeDriver,\n    } = this.props;\n\n    if (disabled) {\n      return;\n    }\n\n    let itemCount = data.length;\n    let timestamp = Date.now();\n\n    if (null != event) {\n      /* Adjust event location */\n      event.nativeEvent.locationY -= this.rippleInsets().top;\n      event.nativeEvent.locationX -= this.rippleInsets().left;\n\n      /* Start ripple directly from event */\n      this.ripple.startRipple(event);\n    }\n\n    if (!itemCount) {\n      return;\n    }\n\n    this.focused = true;\n\n    if ('function' === typeof onFocus) {\n      onFocus();\n    }\n\n    let dimensions = Dimensions.get('window');\n\n    this.container.measureInWindow((x, y, containerWidth, containerHeight) => {\n      let { opacity } = this.state;\n\n      /* Adjust coordinates for relative layout in RTL locale */\n      if (I18nManager.isRTL && !absoluteRTLLayout) {\n        x = dimensions.width - (x + containerWidth);\n      }\n\n      let delay = Math.max(0, rippleDuration - animationDuration - (Date.now() - timestamp));\n      let selected = this.selectedIndex();\n\n      let leftInset;\n      let left = x\n        + dropdownOffset.left\n        - maxMargin;\n\n      if (left > minMargin) {\n        leftInset = maxMargin;\n      } else {\n        left = minMargin;\n        leftInset = minMargin;\n      }\n\n      let right = x + containerWidth + maxMargin;\n      let rightInset;\n\n      if (dimensions.width - right > minMargin) {\n        rightInset = maxMargin;\n      } else {\n        right = dimensions.width - minMargin;\n        rightInset = minMargin;\n      }\n\n      let top = y\n        + dropdownOffset.top\n        - itemPadding;\n\n      this.setState({\n        modal: true,\n        width: right - left,\n        top,\n        left,\n        leftInset,\n        rightInset,\n        selected,\n      });\n\n      setTimeout((() => {\n        if (this.mounted) {\n          this.resetScrollOffset();\n\n          Animated\n            .timing(opacity, {\n              duration: animationDuration,\n              toValue: 1,\n              useNativeDriver,\n            })\n            .start(() => {\n              if (this.mounted && 'ios' === Platform.OS) {\n                let { flashScrollIndicators } = this.scroll || {};\n\n                if ('function' === typeof flashScrollIndicators) {\n                  flashScrollIndicators.call(this.scroll);\n                }\n              }\n            });\n        }\n      }), delay);\n    });\n  }\n\n  onClose(value = this.state.value) {\n    let { onBlur, animationDuration, useNativeDriver } = this.props;\n    let { opacity } = this.state;\n\n    Animated\n      .timing(opacity, {\n        duration: animationDuration,\n        toValue: 0,\n        useNativeDriver,\n      })\n      .start(() => {\n        this.focused = false;\n\n        if ('function' === typeof onBlur) {\n          onBlur();\n        }\n\n        if (this.mounted) {\n          this.setState({ value, modal: false });\n        }\n      });\n  }\n\n  onSelect(index) {\n    let {\n      data,\n      valueExtractor,\n      onChangeText,\n      animationDuration,\n      rippleDuration,\n    } = this.props;\n\n    let value = valueExtractor(data[index], index);\n    let delay = Math.max(0, rippleDuration - animationDuration);\n\n    if ('function' === typeof onChangeText) {\n      onChangeText(value, index, data);\n    }\n\n    setTimeout(() => this.onClose(value), delay);\n  }\n\n  onLayout(event) {\n    let { onLayout } = this.props;\n\n    if ('function' === typeof onLayout) {\n      onLayout(event);\n    }\n  }\n\n  value() {\n    let { value } = this.state;\n\n    return value;\n  }\n\n  selectedIndex() {\n    let { value } = this.state;\n    let { data, valueExtractor } = this.props;\n\n    return data\n      .findIndex((item, index) => null != item && value === valueExtractor(item, index));\n  }\n\n  selectedItem() {\n    let { data } = this.props;\n\n    return data[this.selectedIndex()];\n  }\n\n  isFocused() {\n    return this.focused;\n  }\n\n  itemSize() {\n    let { fontSize, itemPadding } = this.props;\n\n    return Math.ceil(fontSize * 1.5 + itemPadding * 2);\n  }\n\n  visibleItemCount() {\n    let { data, itemCount } = this.props;\n\n    return Math.min(data.length, itemCount);\n  }\n\n  tailItemCount() {\n    return Math.max(this.visibleItemCount() - 2, 0);\n  }\n\n  rippleInsets() {\n    let {\n      top = 16,\n      right = 0,\n      bottom = -8,\n      left = 0,\n    } = this.props.rippleInsets || {};\n\n    return { top, right, bottom, left };\n  }\n\n  resetScrollOffset() {\n    let { selected } = this.state;\n    let { data, dropdownPosition } = this.props;\n\n    let offset = 0;\n    let itemCount = data.length;\n    let itemSize = this.itemSize();\n    let tailItemCount = this.tailItemCount();\n    let visibleItemCount = this.visibleItemCount();\n\n    if (itemCount > visibleItemCount) {\n      if (null == dropdownPosition) {\n        switch (selected) {\n          case -1:\n            break;\n\n          case 0:\n          case 1:\n            break;\n\n          default:\n            if (selected >= itemCount - tailItemCount) {\n              offset = itemSize * (itemCount - visibleItemCount);\n            } else {\n              offset = itemSize * (selected - 1);\n            }\n        }\n      } else {\n        let index = selected - dropdownPosition;\n\n        if (dropdownPosition < 0) {\n          index -= visibleItemCount;\n        }\n\n        index = Math.max(0, index);\n        index = Math.min(index, itemCount - visibleItemCount);\n\n        if (~selected) {\n          offset = itemSize * index;\n        }\n      }\n    }\n\n    if (this.scroll) {\n      this.scroll.scrollToOffset({ offset, animated: false });\n    }\n  }\n\n  updateRef(name, ref) {\n    this[name] = ref;\n  }\n\n  keyExtractor(item, index) {\n    let { valueExtractor } = this.props;\n\n    return `${index}-${valueExtractor(item, index)}`;\n  }\n\n  renderBase(props) {\n    let { value } = this.state;\n    let {\n      data,\n      renderBase,\n      labelExtractor,\n      dropdownOffset,\n      renderAccessory = this.renderAccessory,\n    } = this.props;\n\n    let index = this.selectedIndex();\n    let title;\n\n    if (~index) {\n      title = labelExtractor(data[index], index);\n    }\n\n    if (null == title) {\n      title = value;\n    }\n\n    if ('function' === typeof renderBase) {\n      return renderBase({ ...props, title, value, renderAccessory });\n    }\n\n    title = null == title || 'string' === typeof title?\n      title:\n      String(title);\n\n    return (\n      <TextField\n        label=''\n        labelHeight={dropdownOffset.top - Platform.select({ ios: 1, android: 2 })}\n\n        {...props}\n\n        value={title}\n        editable={false}\n        onChangeText={undefined}\n        renderAccessory={renderAccessory}\n      />\n    );\n  }\n\n  renderRipple() {\n    let {\n      baseColor,\n      rippleColor = baseColor,\n      rippleOpacity,\n      rippleDuration,\n      rippleCentered,\n      rippleSequential,\n    } = this.props;\n\n    let { bottom, ...insets } = this.rippleInsets();\n    let style = {\n      ...insets,\n\n      height: this.itemSize() - bottom,\n      position: 'absolute',\n    };\n\n    return (\n      <Ripple\n        style={style}\n        rippleColor={rippleColor}\n        rippleDuration={rippleDuration}\n        rippleOpacity={rippleOpacity}\n        rippleCentered={rippleCentered}\n        rippleSequential={rippleSequential}\n        ref={this.updateRippleRef}\n      />\n    );\n  }\n\n  renderAccessory() {\n    let { baseColor: backgroundColor } = this.props;\n    let triangleStyle = { backgroundColor };\n\n    return (\n      <View style={styles.accessory}>\n        <View style={styles.triangleContainer}>\n          <View style={[styles.triangle, triangleStyle]} />\n        </View>\n      </View>\n    );\n  }\n\n  renderItem({ item, index }) {\n    if (null == item) {\n      return null;\n    }\n\n    let { selected, leftInset, rightInset } = this.state;\n\n    let {\n      valueExtractor,\n      labelExtractor,\n      propsExtractor,\n      textColor,\n      itemColor,\n      baseColor,\n      selectedItemColor = textColor,\n      disabledItemColor = baseColor,\n      fontSize,\n      itemTextStyle,\n      rippleOpacity,\n      rippleDuration,\n      shadeOpacity,\n    } = this.props;\n\n    let props = propsExtractor(item, index);\n\n    let { style, disabled }\n      = props\n      = {\n        rippleDuration,\n        rippleOpacity,\n        rippleColor: baseColor,\n\n        shadeColor: baseColor,\n        shadeOpacity,\n\n        ...props,\n\n        onPress: this.onSelect,\n      };\n\n    let value = valueExtractor(item, index);\n    let label = labelExtractor(item, index);\n\n    let title = null == label?\n      value:\n      label;\n\n    let color = disabled?\n      disabledItemColor:\n      ~selected?\n        index === selected?\n          selectedItemColor:\n          itemColor:\n        selectedItemColor;\n\n    let textStyle = { color, fontSize };\n\n    props.style = [\n      style,\n      {\n        height: this.itemSize(),\n        paddingLeft: leftInset,\n        paddingRight: rightInset,\n      },\n    ];\n\n    return (\n      <DropdownItem index={index} {...props}>\n        <Text style={[styles.item, itemTextStyle, textStyle]} numberOfLines={1}>\n          {title}\n        </Text>\n      </DropdownItem>\n    );\n  }\n\n  render() {\n    let {\n      renderBase,\n      renderAccessory,\n      containerStyle,\n      overlayStyle: overlayStyleOverrides,\n      pickerStyle: pickerStyleOverrides,\n\n      rippleInsets,\n      rippleOpacity,\n      rippleCentered,\n      rippleSequential,\n\n      hitSlop,\n      pressRetentionOffset,\n      testID,\n      nativeID,\n      accessible,\n      accessibilityLabel,\n\n      supportedOrientations,\n\n      ...props\n    } = this.props;\n\n    let {\n      data,\n      disabled,\n      itemPadding,\n      dropdownPosition,\n    } = props;\n\n    let { left, top, width, opacity, selected, modal } = this.state;\n\n    let itemCount = data.length;\n    let visibleItemCount = this.visibleItemCount();\n    let tailItemCount = this.tailItemCount();\n    let itemSize = this.itemSize();\n\n    let height = 2 * itemPadding + itemSize * visibleItemCount;\n    let translateY = -itemPadding;\n\n    if (null == dropdownPosition) {\n      switch (selected) {\n        case -1:\n          translateY -= 1 === itemCount? 0 : itemSize;\n          break;\n\n        case 0:\n          break;\n\n        default:\n          if (selected >= itemCount - tailItemCount) {\n            translateY -= itemSize * (visibleItemCount - (itemCount - selected));\n          } else {\n            translateY -= itemSize;\n          }\n      }\n    } else {\n      if (dropdownPosition < 0) {\n        translateY -= itemSize * (visibleItemCount + dropdownPosition);\n      } else {\n        translateY -= itemSize * dropdownPosition;\n      }\n    }\n\n    let overlayStyle = { opacity };\n\n    let pickerStyle = {\n      width,\n      height,\n      top,\n      left,\n      transform: [{ translateY }],\n    };\n\n    let touchableProps = {\n      disabled,\n      hitSlop,\n      pressRetentionOffset,\n      onPress: this.onPress,\n      testID,\n      nativeID,\n      accessible,\n      accessibilityLabel,\n    };\n\n    return (\n      <View onLayout={this.onLayout} ref={this.updateContainerRef} style={containerStyle}>\n        <TouchableWithoutFeedback {...touchableProps}>\n          <View pointerEvents='box-only'>\n            {this.renderBase(props)}\n            {this.renderRipple()}\n          </View>\n        </TouchableWithoutFeedback>\n\n        <Modal\n          visible={modal}\n          transparent={true}\n          onRequestClose={this.blur}\n          supportedOrientations={supportedOrientations}\n        >\n          <Animated.View\n            style={[styles.overlay, overlayStyle, overlayStyleOverrides]}\n            onStartShouldSetResponder={() => true}\n            onResponderRelease={this.blur}\n          >\n            <View\n              style={[styles.picker, pickerStyle, pickerStyleOverrides]}\n              onStartShouldSetResponder={() => true}\n            >\n              <FlatList\n                ref={this.updateScrollRef}\n                data={data}\n                style={styles.scroll}\n                renderItem={this.renderItem}\n                keyExtractor={this.keyExtractor}\n                scrollEnabled={visibleItemCount < itemCount}\n                contentContainerStyle={styles.scrollContainer}\n              />\n            </View>\n          </Animated.View>\n        </Modal>\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}