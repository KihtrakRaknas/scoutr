{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectSpread from\"@babel/runtime/helpers/objectSpread\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";var shownWarnings=[];var validations=[{check:function check(o){return typeof o.headerForceInset==='object';},deprecated:'headerForceInset',updated:'safeAreaInsets',compat:function compat(o){var headerForceInset=o.headerForceInset,rest=_objectWithoutProperties(o,[\"headerForceInset\"]);var safeAreaInsets={top:0,bottom:0,left:0,right:0};switch(headerForceInset){case'top':delete safeAreaInsets.top;break;case'bottom':delete safeAreaInsets.bottom;break;case'left':delete safeAreaInsets.left;break;case'right':delete safeAreaInsets.right;break;case'vertical':delete safeAreaInsets.top;delete safeAreaInsets.bottom;break;case'horizontal':delete safeAreaInsets.left;delete safeAreaInsets.right;break;case'always':safeAreaInsets=undefined;break;}return _objectSpread({},rest,{safeAreaInsets:safeAreaInsets});}},{check:function check(o){return o.gesturesEnabled!==undefined;},deprecated:'gesturesEnabled',updated:'gestureEnabled',compat:function compat(o){var gesturesEnabled=o.gesturesEnabled,rest=_objectWithoutProperties(o,[\"gesturesEnabled\"]);return _objectSpread({},rest,{gestureEnabled:gesturesEnabled});}},{check:function check(o){return o.header===null;},deprecated:'header: null',updated:'headerShown: false',compat:function compat(o){var header=o.header,rest=_objectWithoutProperties(o,[\"header\"]);return _objectSpread({},rest,{headerShown:false});}},{check:function check(o){return o.header!=null&&typeof o.header!=='function';},deprecated:'header: <SomeElement />',updated:'header: () => <SomeElement />',compat:function compat(o){return _objectSpread({},o,{header:function header(){return o.header;}});}},{check:function check(o){return o.headerTitle!==undefined&&typeof o.headerTitle!=='string'&&typeof o.headerTitle!=='function';},deprecated:'headerTitle: <SomeElement />',updated:'headerTitle: () => <SomeElement />',compat:function compat(o){return _objectSpread({},o,{headerTitle:function headerTitle(){return o.headerTitle;}});}}].concat(_toConsumableArray(['headerLeft','headerRight','headerBackground','backImage'].map(function(p){return{check:function check(o){return o[p]!==undefined&&typeof o[p]!=='function';},deprecated:p+\": <SomeElement />\",updated:p+\": () => <SomeElement />\",compat:function compat(o){return _objectSpread({},o,_defineProperty({},p,function(){return o[p];}));}};})));export default function validateDeprecatedOptions(options){var result=options;var warnings=[];validations.forEach(function(v){if(v.check(options)){result=v.compat(result);if(process.env.NODE_ENV!=='production'){if(shownWarnings.includes(v.deprecated)){return;}warnings.push(v);shownWarnings.push(v.deprecated);}}});if(warnings.length){console.warn(\"Deprecation in 'navigationOptions':\\n\"+warnings.map(function(v){return\"- '\"+v.deprecated+\"' will be removed in a future version. Use '\"+v.updated+\"' instead\";}).join('\\n'));}return result;}","map":{"version":3,"sources":["validateDeprecatedOptions.tsx"],"names":["shownWarnings","validations","check","o","deprecated","updated","compat","headerForceInset","rest","safeAreaInsets","top","bottom","left","right","gesturesEnabled","gestureEnabled","header","headerShown","headerTitle","p","result","warnings","v","process","console"],"mappings":"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","sourcesContent":["import { EdgeInsets } from 'react-native-safe-area-context';\nimport { StackNavigationOptions } from '../vendor/types';\n\ntype Validation = {\n  check: (o: Record<string, any>) => boolean;\n  deprecated: string;\n  updated: string;\n  compat: (o: Record<string, any>) => StackNavigationOptions;\n};\n\nconst shownWarnings: string[] = [];\n\nconst validations: Validation[] = [\n  {\n    check: o => typeof o.headerForceInset === 'object',\n    deprecated: 'headerForceInset',\n    updated: 'safeAreaInsets',\n    compat: o => {\n      const { headerForceInset, ...rest } = o;\n\n      let safeAreaInsets: Partial<EdgeInsets> | undefined = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n      };\n\n      switch (headerForceInset) {\n        case 'top':\n          delete safeAreaInsets.top;\n          break;\n        case 'bottom':\n          delete safeAreaInsets.bottom;\n          break;\n        case 'left':\n          delete safeAreaInsets.left;\n          break;\n        case 'right':\n          delete safeAreaInsets.right;\n          break;\n        case 'vertical':\n          delete safeAreaInsets.top;\n          delete safeAreaInsets.bottom;\n          break;\n        case 'horizontal':\n          delete safeAreaInsets.left;\n          delete safeAreaInsets.right;\n          break;\n        case 'always':\n          safeAreaInsets = undefined;\n          break;\n      }\n\n      return { ...rest, safeAreaInsets };\n    },\n  },\n  {\n    check: o => o.gesturesEnabled !== undefined,\n    deprecated: 'gesturesEnabled',\n    updated: 'gestureEnabled',\n    compat: o => {\n      const { gesturesEnabled, ...rest } = o;\n\n      return { ...rest, gestureEnabled: gesturesEnabled };\n    },\n  },\n  {\n    check: o => o.header === null,\n    deprecated: 'header: null',\n    updated: 'headerShown: false',\n    compat: o => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { header, ...rest } = o;\n\n      return { ...rest, headerShown: false };\n    },\n  },\n  {\n    check: o => o.header != null && typeof o.header !== 'function',\n    deprecated: 'header: <SomeElement />',\n    updated: 'header: () => <SomeElement />',\n    compat: o => ({ ...o, header: () => o.header }),\n  },\n  {\n    check: o =>\n      o.headerTitle !== undefined &&\n      typeof o.headerTitle !== 'string' &&\n      typeof o.headerTitle !== 'function',\n    deprecated: 'headerTitle: <SomeElement />',\n    updated: 'headerTitle: () => <SomeElement />',\n    compat: o => ({ ...o, headerTitle: () => o.headerTitle }),\n  },\n  ...['headerLeft', 'headerRight', 'headerBackground', 'backImage'].map(\n    (p): Validation => ({\n      check: (o: any) => o[p] !== undefined && typeof o[p] !== 'function',\n      deprecated: `${p}: <SomeElement />`,\n      updated: `${p}: () => <SomeElement />`,\n      compat: o => ({ ...o, [p]: () => o[p] }),\n    })\n  ),\n];\n\nexport default function validateDeprecatedOptions(\n  options: StackNavigationOptions\n) {\n  let result = options;\n\n  const warnings: Validation[] = [];\n\n  // Validate options to show warnings for deprecations\n  validations.forEach(v => {\n    if (v.check(options)) {\n      result = v.compat(result);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(v.deprecated)) {\n          return;\n        }\n\n        warnings.push(v);\n        shownWarnings.push(v.deprecated);\n      }\n    }\n  });\n\n  if (warnings.length) {\n    console.warn(\n      `Deprecation in 'navigationOptions':\\n${warnings\n        .map(\n          v =>\n            `- '${v.deprecated}' will be removed in a future version. Use '${v.updated}' instead`\n        )\n        .join('\\n')}`\n    );\n  }\n\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}