(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{293:function(e,t,n){"use strict";var a=n(1),o=n.n(a),r=n(2),l=n(485),s=n(49),c=n(9),u=n.n(c),m=n(8),g=n.n(m),h=n(10),d=n.n(h),p=n(5),f=n.n(p),v=n(11),b=n.n(v),C=n(19),y=n(42),k=n(3),w=n(106),I=n(29),x=n(80),E=n(79),S=n.n(E),N=n(108),T=function(e){function t(e){var n;return u()(this,t),(n=d()(this,f()(t).call(this,e))).state={name:"",team:""},n.handleLogin=function(){x.a.setItem("name",n.state.name).then((function(){x.a.setItem("team",n.state.team).then((function(){n.props.navigation.navigate("LoggedInStack")}))}))},E.initializeApp({apiKey:"AIzaSyAgbDbOgy-QIkZmXNkueOWhSZfSOYta0MA",authDomain:"roboticsscoutingtool.firebaseapp.com",projectId:"roboticsscoutingtool"}),x.a.getItem("name").then((function(e){e?n.props.navigation.navigate("LoggedInStack"):N.a.hide()})),n}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this;return o.a.createElement(w.a,{behavior:"padding",style:D.container},o.a.createElement(C.a,{style:D.title},"Set Up"),o.a.createElement(k.a,{style:D.textInputBox},o.a.createElement(y.a,{placeholder:"Real Name",placeholderTextColor:"white",autoCapitalize:"none",style:D.textInput,onChangeText:function(t){return e.setState({name:t})},value:this.state.name})),o.a.createElement(k.a,{style:D.textInputBox},o.a.createElement(y.a,{placeholder:"Team (including letter)",placeholderTextColor:"white",autoCapitalize:"none",style:D.textInput,onChangeText:function(t){return e.setState({team:t})},value:this.state.team})),o.a.createElement(I.a,{style:D.submitButton,onPress:this.handleLogin},o.a.createElement(C.a,{style:{color:"white",fontSize:20}},"Continue To App")))}}]),t}(o.a.Component),D=r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10}}),B=n(85),A=(n(178),n(58)),M=function(e){function t(e){var n;return u()(this,t),(n=d()(this,f()(t).call(this,e))).state={comps:[],team:"null"},N.a.hide(),x.a.getItem("team").then((function(e){n.setState({team:e}),console.log("https://api.vexdb.io/v1/get_events?season=current&team="+e),fetch("https://api.vexdb.io/v1/get_events?season=current&team="+e).then((function(e){return e.json()})).then((function(e){console.log(e),console.log(e.result),n.setState({comps:e.result})}))})),n}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this;return o.a.createElement(B.a,{data:this.state.comps,renderItem:function(t){var n=t.item;return o.a.createElement(A.b,{onPress:function(){return e.props.navigation.navigate("CompScreen",{title:n.name,sku:n.sku,compName:n.name})},bottomDivider:!0,topDivider:!0,subtitle:n.loc_city+" - "+(new Date(n.end).getMonth()>8?new Date(n.end).getMonth()+1:"0"+(new Date(n.end).getMonth()+1))+"/"+(new Date(n.end).getDate()>9?new Date(n.end).getDate():"0"+new Date(n.end).getDate())+"/"+new Date(n.end).getFullYear()%100,title:n.name})},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(k.a,null,o.a.createElement(C.a,null,"No Competitions found for ",this.state.team))})}}]),t}(o.a.Component),P=(r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10}}),n(243),function(e){function t(e){var n;u()(this,t),(n=d()(this,f()(t).call(this,e))).state={teams:[]};n.props.navigation.getParam("name","No Name");var a=n.props.navigation.getParam("sku","sku");return x.a.getItem("team").then((function(e){n.setState({team:e}),fetch("https://api.vexdb.io/v1/get_teams?season=current&sku="+a).then((function(e){return e.json()})).then((function(t){console.log(t);var o=t.result;console.log(o),n.setState({teams:o}),S.a.firestore().collection("teams").doc(e).collection("comp").doc(a).collection("teams").get().then((function(e){var t=function(t){var n=o[t];e.forEach((function(e){console.log(e.id,"=>",e.data()),e.id==n.number&&(console.log("AHHH"),o[t].haveData=!0)}))};for(var a in o)t(a);n.setState({teams:o})})).catch((function(e){console.log("Error getting documents",e)}))}))})),n}return b()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.navigation;this.focusListener=t.addListener("didFocus",(function(){var t=e.state.teams,n=e.state.team,a=e.props.navigation.getParam("sku","sku");S.a.firestore().collection("teams").doc(n.replace(/\D+/g,"")).collection("comp").doc(a).collection("teams").get().then((function(n){var a=function(e){var a=t[e];n.forEach((function(n){console.log(n.id,"=>",n.data()),n.id==a.number&&(console.log("AHHH"),t[e].haveData=!0)}))};for(var o in t)a(o);e.setState({teams:t})})).catch((function(e){console.log("Error getting documents",e)}))}))}},{key:"componentWillUnmount",value:function(){this.focusListener.remove()}},{key:"render",value:function(){var e=this;return o.a.createElement(B.a,{data:this.state.teams,renderItem:function(t){var n=t.item;return o.a.createElement(A.b,{checkmark:n.haveData,onPress:function(){return e.props.navigation.navigate("TeamInfo",{team:n.number,compName:e.props.navigation.getParam("compName"),sku:e.props.navigation.getParam("sku")})},bottomDivider:!0,topDivider:!0,subtitle:n.organisation+" - "+n.region,title:n.number})},keyExtractor:function(e){return e.id},ListEmptyComponent:o.a.createElement(k.a,null,o.a.createElement(C.a,null,"No Competitions found for ",this.state.team))})}},{key:"abbrState",value:function(e,t){var n=[["Arizona","AZ"],["Alabama","AL"],["Alaska","AK"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]];if("abbr"==t){for(e=e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),i=0;i<n.length;i++)if(n[i][0]==e)return n[i][1]}else if("name"==t)for(e=e.toUpperCase(),i=0;i<n.length;i++)if(n[i][1]==e)return n[i][0]}}]),t}(o.a.Component));P.navigationOptions=function(e){var t=e.navigation;return{title:t.getParam("title","No Name").substring(0,25)+(""!=t.getParam("title","No Name").substring(25).trim()?"...":"")}};r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10}});var O=n(12),L=n.n(O),W=n(69),F=function(e){function t(e){var n;u()(this,t),(n=d()(this,f()(t).call(this,e))).state={team:null},x.a.getItem("team").then((function(e){n.setState({team:e});var t=e,a=n.props.navigation.getParam("sku"),o=n.props.navigation.getParam("team","default team");S.a.firestore().collection("teams").doc(t.replace(/\D+/g,"")).collection("comp").doc(a).collection("teams").doc(o).get().then((function(e){e.exists?n.setState(e.data()):console.log("No such document!")})).catch((function(e){console.log("Error getting document",e)}))}));var a=n.props.navigation.getParam("team","750S");fetch("https://api.vexdb.io/v1/get_season_rankings?season=current&team="+a).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({vrating_rank:e.result[0].vrating_rank,vrating:e.result[0].vrating})}));S.a.firestore();return console.log("compName"+n.props.navigation.getParam("compName")),n}return b()(t,e),g()(t,[{key:"render",value:function(){var e=this;return o.a.createElement(w.a,{style:{flex:1,flexDirection:"column",justifyContent:"center"},behavior:"padding",enabled:!0,keyboardVerticalOffset:100},o.a.createElement(W.c,null,o.a.createElement(C.a,{style:z.stats},"V-Rating Rank: ",this.state.vrating_rank),o.a.createElement(C.a,{style:z.stats},"V-Rating: ",this.state.vrating),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Intake Type",label:"Intake Type",value:this.state["Intake Type"],onChangeText:function(t){return e.updateFirebase("Intake Type",t)}}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Lift Type",label:"Lift Type",value:this.state["Lift Type"],onChangeText:function(t){return e.updateFirebase("Lift Type",t)},style:z.place}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Drive Type",label:"Drive Type",value:this.state["Drive Type"],onChangeText:function(t){return e.updateFirebase("Drive Type",t)},style:z.place}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Max Number of Cubes",label:"Max Number of Cubes",value:this.state["Max Number of Cubes"],onChangeText:function(t){return e.updateFirebase("Max Number of Cubes",t)},style:z.place}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Highest Tower",label:"Highest Tower",value:this.state["Highest Tower"],onChangeText:function(t){return e.updateFirebase("Highest Tower",t)},style:z.place}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Protected Zone Auton",label:"Protected Zone Auton",value:this.state["Protected Zone Auton"],onChangeText:function(t){return e.updateFirebase("Protected Zone Auton",t)},style:z.place}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Unprotected Zone Auton",label:"Unprotected Zone Auton",value:this.state["Unprotected Zone Auton"],onChangeText:function(t){return e.updateFirebase("Unprotected Zone Auton",t)},style:z.place}),o.a.createElement(k.a,{style:z.place}),o.a.createElement(A.a,{placeholder:"Other Comments",label:"Other Comments",value:this.state["Other Comments"],onChangeText:function(t){return e.updateFirebase("Other Comments",t)},style:z.place})))}},{key:"updateFirebase",value:function(e,t){this.setState(L()({},e,t)),console.log(e),console.log(t);var n=this.state.team,a=this.props.navigation.getParam("sku"),o=this.props.navigation.getParam("team","default team");console.log(n),console.log(a),console.log(o),S.a.firestore().collection("teams").doc(n.replace(/\D+/g,"")).collection("comp").doc(a).collection("teams").doc(o).set(L()({},e,t),{merge:!0}).then((function(e){console.log("Document written with ID: ",e)})).catch((function(e){console.error("3Error adding document: ",e)}))}}]),t}(o.a.Component);F.navigationOptions=function(e){var t=e.navigation;return{title:t.getParam("team","No Name").substring(0,25)+(""!=t.getParam("team","No Name").substring(25).trim()?"...":"")}};var z=r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"red"},textInputBox:{borderBottomColor:"white",borderBottomWidth:1,marginBottom:40,width:"90%"},textInput:{alignSelf:"stretch",fontSize:24,height:40,fontWeight:"200",marginBottom:0,color:"white"},title:{fontSize:50,marginBottom:30,color:"white"},submitButton:{alignItems:"center",backgroundColor:"blue",width:"90%",padding:15,borderRadius:7,marginBottom:10},stats:{fontSize:20,paddingHorizontal:10,paddingVertical:20},place:{paddingVertical:5}}),H=Object(l.a)({Main:M,CompScreen:P,TeamInfo:F},{initialRouteName:"Main",defaultNavigationOptions:{headerStyle:{backgroundColor:"red"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}}}),j=Object(s.createAppContainer)(Object(s.createSwitchNavigator)({SetUp:T,LoggedInStack:H},{initialRouteName:"SetUp"}));t.a=j,r.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#F5FCFF"},welcome:{fontSize:20,textAlign:"center",margin:10},instructions:{textAlign:"center",color:"#333333",marginBottom:5}})},305:function(e,t,n){n(306),e.exports=n(307)},306:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[305,1,2]]]);
//# sourceMappingURL=../../6f16713483e6d31e902d.map